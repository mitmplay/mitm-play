(()=>{var __defProp=Object.defineProperty;var __defProps=Object.defineProperties;var __getOwnPropDescs=Object.getOwnPropertyDescriptors;var __getOwnPropSymbols=Object.getOwnPropertySymbols;var __hasOwnProp=Object.prototype.hasOwnProperty;var __propIsEnum=Object.prototype.propertyIsEnumerable;var __defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:true,configurable:true,writable:true,value}):obj[key]=value;var __spreadValues=(a,b)=>{for(var prop in b||(b={}))if(__hasOwnProp.call(b,prop))__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b)){if(__propIsEnum.call(b,prop))__defNormalProp(a,prop,b[prop])}return a};var __spreadProps=(a,b)=>__defProps(a,__getOwnPropDescs(b));var __commonJS=(cb,mod)=>function __require(){return mod||(0,cb[Object.keys(cb)[0]])((mod={exports:{}}).exports,mod),mod.exports};var require_ws_postmessage=__commonJS({"ws-client/_src/_ws_postmessage.js"(exports,module){module.exports=()=>{function receiveMessage(event){if(window.mitm.client.postmessage){console.log(`>>> Postmessage: ${event.origin} => https://${location.host}`,event.data)}}window.addEventListener("message",receiveMessage,false)}}});var require_ws_client=__commonJS({"ws-client/_src/_ws_client.js"(exports,module){var _c2="color: #bada55";module.exports=()=>{let windowRef;return{_help({data}){console.log(data)},_ping({data}){console.log(data)},_open({data}){const features="directories=0,titlebar=0,toolbar=0,location=0,status=0,menubar=0,width=800,height=600";windowRef=window.open(data.url,"_logs",features);windowRef.blur()},_style({data}){const{q,css}=data;document.querySelectorAll(q).forEach(node=>node.style.cssText=css)},_saveTags({routes}){if(!location.origin.match("chrome-extension")){console.log("%cWs: Update routes",_c2);window.mitm.routes=routes}},_files({data,typ}){const{files}=window.mitm;console.warn(`receive brodcast ${typ}`);for(const key in files[`${typ}_events`]){console.warn(files[`${typ}_events`][key]+"");files[`${typ}_events`][key](data)}},_setClient({data}){console.log("%cWs: _setClient",_c2,data);window.mitm.client=data}}}}});var require_ws_msg_parser=__commonJS({"ws-client/_src/_ws_msg-parser.js"(exports,module){var _ws_client=require_ws_client();var _ws_wccmd=_ws_client();module.exports=(event,msg)=>{if(window.mitm.argv.debug){if(msg.length>40){console.log(">>> ws-message: `%s...`",msg.slice(0,40))}else{console.log(">>> ws-message: `%s`",msg)}}const arr=msg.replace(/\s+$/,"").match(/^ *([\w:]+) *(\{.*)/);if(arr){let[,cmd,json]=arr;try{if(typeof json==="string"){json=JSON.parse(json)}}catch(error){console.error(json,error)}if(window._ws_queue[cmd]){const handler=window._ws_queue[cmd];delete window._ws_queue[cmd];handler(json.data)}else if(_ws_wccmd[cmd]){_ws_wccmd[cmd].call(event,json)}}}}});var require_ws_in_iframe=__commonJS({"ws-client/_src/_ws_in-iframe.js"(exports,module){module.exports=()=>{let ifrm;try{ifrm=window.self!==window.top}catch(e){ifrm=true}return ifrm?"iframe":"window"}}});var require_ws_vendor=__commonJS({"ws-client/_src/_ws_vendor.js"(exports,module){module.exports=()=>{const{vendor}=navigator;const browser={"":"firefox","Google Inc.":"chromium","Apple Computer, Inc.":"webkit"}[vendor];return browser}}});var require_ws_init_socket=__commonJS({"ws-client/_src/_ws_init-socket.js"(exports,module){var _ws_msgParser=require_ws_msg_parser();var _ws_inIframe=require_ws_in_iframe();var _ws_vendor=require_ws_vendor();var _c2="color: #bada55";module.exports=()=>{window._ws_queue={};window._ws_connected=false;const{__args,__flag}=window.mitm;if(window._ws_connect===void 0){window._ws_connect={}}const onopen=data=>{function ws_send(){for(const key in window._ws_connect){const fn=window._ws_connect[key];window._ws_connected_send=true;console.log(`%cWs: ${fn+""}`,_c2);fn(data)}}if(__flag["ws-connect"]){console.log("%cWs: open connection",_c2)}console.timeEnd("ws");window._ws_connected=true;setTimeout(ws_send,1);setTimeout(()=>{if(!window._ws_connected_send){console.error("RETRY..........");ws_send()}},10)};const onclose=function(){if(__flag["ws-connect"]){console.log("%cWs: close connection",_c2)}};const onmessage=function(e){if(__flag["on-message"]){console.log("%cWs: on-message:",_c2,e.data)}_ws_msgParser(e,e.data)};const connect=__args.nosocket===void 0;if(connect||window.chrome&&chrome.tabs){const vendor=["firefox","webkit"].includes(_ws_vendor());const pre=vendor?"ws":"wss";const prt=vendor?"3002":"3001";const url=`${pre}://localhost:${prt}/ws?page=${_ws_inIframe()}&url=${document.URL.split("?")[0]}`;let ws;try{ws=new WebSocket(url)}catch(error){console.error(error)}console.time("ws");window._ws=ws;ws.onopen=onopen;ws.onclose=onclose;ws.onmessage=onmessage}if(__flag["ws-connect"]){console.log(`%cWs: ${connect?"init":"off"} connection`,_c2)}}}});var require_screenshot=__commonJS({"ws-client/_src/_screenshot.js"(exports,module){async function screnshot(json){const{__args}=window.mitm;if([true,"off"].includes(__args.nosocket)){return new Promise(function(resolve,reject){try{const config={method:"POST",headers:{"Accept":"application/json","Content-Type":"application/json"},body:JSON.stringify(json)};fetch("/mitm-play/screnshot.json",config).then(function(response){resolve(response.json())}).then(function(data){resolve(data)})}catch(error){reject(error)}})}else{return new Promise(function(resolve,reject){try{window.ws__send("screenshot",json,resolve)}catch(error){reject(error)}})}}module.exports=screnshot}});var require_ws_namespace=__commonJS({"ws-client/_src/_ws_namespace.js"(exports,module){module.exports=()=>{const{hostname:host}=location;let namespace;function toRegex(str){return str.replace(/\./g,"\\.").replace(/\?/g,"\\?")}for(const key in window.mitm.routes){if(host.match(toRegex(key.replace(/~/g,"[^.]*")))){namespace=key;break}}return namespace}}});var require_ws_screenshot=__commonJS({"ws-client/_src/_ws_screenshot.js"(exports,module){var _screenshot=require_screenshot();var _ws_namespace=require_ws_namespace();var _ws_vendor=require_ws_vendor();var _c2="color: #bada55";var act;function screenshot(e){if(mitm.argv.lazyclick){if(mitm.screenshot){window.mitm.screenshot=void 0;console.log(">>> delay action");return}if(act){act=void 0;return}}const namespace=_ws_namespace();const browser=_ws_vendor();const host=location.origin.replace("://","~~");const route=window.mitm.routes[namespace];const{selector}=route.screenshot;const arr=document.body.querySelectorAll(selector);const fname=location.pathname.replace(/^\//g,"~");const delay=mitm.argv.lazyclick===true?700:mitm.argv.lazyclick;for(const el of arr){let node=e.target;while(el!==node&&node!==null&&node!==document.body){node=node.parentNode}if(node!==document.body){const _page=window["xplay-page"];const params={namespace,_page,host,browser};params.fname=fname==="~"?"~_":fname;_screenshot(params);if(mitm.argv.lazyclick){window.mitm.screenshot=e.target;e.stopImmediatePropagation();e.stopPropagation();e.preventDefault();mitm.lastEvent=e;setTimeout(()=>{act=window.mitm.screenshot;if(act){act.click();act=void 0}else{console.log("%cWs: delay action undefined",_c2)}},delay)}else{mitm.lastEvent=e}return}}}function eventclick(e){mitm.lastEvent=e}module.exports=()=>{const route=window.mitm.routes[_ws_namespace()];window.addEventListener("DOMContentLoaded",()=>{const body=document.querySelector("body");if(route&&route.screenshot){body.addEventListener("click",screenshot)}else{body.addEventListener("click",eventclick)}})}}});var require_keyboard=__commonJS({"ws-client/_src/_keyboard.js"(exports,module){var kcode1={Backquote:"`",BracketLeft:"[",BracketRight:"]",Backslash:"\\",Comma:",",Period:".",Quote:"'",Semicolon:";",Slash:"/",Space:" ",Minus:"-",Equal:"="};var kcode2={Backquote:"~",BracketLeft:"{",BracketRight:"}",Backslash:"|",Comma:"<",Period:">",Quote:'"',Semicolon:":",Slash:"?",Space:" ",Minus:"_",Equal:"+"};var kcode3={1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",10:")"};module.exports=(evn,opt={codeOnly:false})=>{const{code,shiftKey}=evn;const{codeOnly}=opt;let match;let char="";match=code.match(/Key(.)/);if(match){char=match.pop();if(!codeOnly&&!shiftKey){char=char.toLowerCase()}}else{match=code.match(/(Digit|Numpad)(.)/);if(match){char=match.pop();if(!codeOnly&&shiftKey){char=kcode3[char]}}else{if(!codeOnly&&shiftKey){char=kcode2[code]}else{char=kcode1[code]}}}return char}}});var require_ws_location=__commonJS({"ws-client/_src/_ws_location.js"(exports,module){var _ws_namespace=require_ws_namespace();var _ws_vendor=require_ws_vendor();var _key=require_keyboard();var wait=ms=>new Promise(resolve=>setTimeout(resolve,ms));var _c2="color: #bada55";module.exports=()=>{const styleLeft="top: -8px; left:  3px;";const styleTopR="top: -8px; right: 3px;";const styleRight="top:  8px; right: 3px; text-align: end;";const buttonStyle="";const style=`
  .mitm-container {
    position: fixed;
    z-index: 99999;
  }
  .mitm-container.center {
    background: #dceaffb0;
    position: fixed;
    /* center the element */
    right: 0;
    left: 0;
    top: 20px;
    margin-right: auto;
    margin-left: auto;
    /* give it dimensions */
    min-height: 10em;
    width: 90%;
    display: none;
  }
  .mitm-btn {
    border: none;
    font-size: 8px;
    cursor: pointer;
    border-radius: 3px;
    font-family: monaco, Consolas, "Lucida Console", monospace;
  }
  .mitm-btn:hover{
    text-decoration:underline;
  }
  .bgroup-right .mitm-br,
  .bgroup-topr .mitm-br,
  .bgroup-left .mitm-br{
    display:table;
  }`;const event=new Event("urlchanged");let container={right:{},topr:{},left:{}};let ctrl=false;let button={};let bgroup={right:{},topr:{},left:{}};let intervId;let observerfn=[];function toRegex(pathMsg){let[path,msg]=pathMsg.split("=>").map(item=>item.trim());path=path.replace(/\./g,"\\.").replace(/\?/g,"\\?");return{path,msg}}function createButton(buttons,pos){let br;for(const id in buttons){const[caption,color,klas]=id.split("|");const btn=document.createElement("button");const fn2=buttons[id];btn.onclick=async e=>{let arr=fn2(e);if(arr instanceof Promise){arr=await arr}if(Array.isArray(arr)){await play(arr)}};btn.innerText=caption;btn.classList.add("mitm-btn");btn.classList.add(`${pos}`);btn.classList.add(klas||caption);btn.style=buttonStyle+(color?`background: ${color};`:"");if(pos==="topr"){br=document.createElement("span");br.innerHTML="&nbsp;";bgroup[pos].appendChild(br);bgroup[pos].appendChild(btn)}else{br=document.createElement("span");br.className="mitm-br";bgroup[pos].appendChild(btn);bgroup[pos].appendChild(br)}}}function setButtons(buttons,position){if(bgroup[position]){bgroup[position].innerHTML="";createButton(buttons,position)}}let debunk;let onces={};async function urlChange(event2){const namespace=_ws_namespace();if(window.mitm.autofill){delete window.mitm.autofill}if(window.mitm.autointerval){clearInterval(intervId);delete window.mitm.autointerval}if(window.mitm.autobuttons){delete window.mitm.autobuttons}if(window.mitm.rightbuttons){delete window.mitm.rightbuttons}if(window.mitm.leftbuttons){delete window.mitm.leftbuttons}if(window.mitm.macrokeys){delete window.mitm.macrokeys}if(namespace){const{href,origin}=location2;const _href=href.replace(origin,"");const{_macros_,macros}=window.mitm;observerfn=[];_macros_&&_macros_();for(const key in macros){const{path,msg}=toRegex(key);if(_href.match(path)){button.innerHTML=msg||"Entry";let fns=macros[key]();if(fns instanceof Promise){fns=await fns}if(typeof fns==="function"){observerfn.push(fns)}else if(Array.isArray(fns)){for(const fn2 of fns){if(typeof fn2==="function"){observerfn.push(fn2)}}}debunk&&clearTimeout(debunk);debunk=setTimeout(()=>{onces={};debunk=void 0;const{autobuttons,rightbuttons,leftbuttons}=window.mitm;rightbuttons&&setButtons(rightbuttons,"right");leftbuttons&&setButtons(leftbuttons,"left");if(window.mitm.autofill){autobuttons&&setButtons(__spreadProps(__spreadValues({},autobuttons),{"Entry"(){let{autofill}=window.mitm;if(typeof autofill==="function"){autofill=autofill()}play(autofill)}}),"topr")}else{autobuttons&&setButtons(autobuttons,"topr")}},0)}}}container.right.style=styleRight;container.topr.style=styleTopR;container.left.style=styleLeft;const visible=window.mitm.autofill;button.style=buttonStyle+(visible?"background-color: azure;":"display: none;");if(typeof window.mitm.autointerval==="function"){intervId=setInterval(window.mitm.autointerval,500)}ctrl=false}const vendor=_ws_vendor();if(["firefox","webkit"].includes(vendor)||chrome&&!chrome.tabs){document.querySelector("html").addEventListener("keydown",keybCtrl);document.querySelector("html").addEventListener("keyup",keybUp);window.addEventListener("urlchanged",urlChange);if(document.readyState!=="loading"){init()}else{window.addEventListener("DOMContentLoaded",init)}}else{return}const fn=history.pushState;history.pushState=function(){fn.apply(history,arguments);compareHref()};_play=json=>{return new Promise(function(resolve,reject){try{window.ws__send("autofill",json,resolve)}catch(error){reject(error)}})};_post=json=>{return new Promise(function(resolve,reject){try{const config={method:"POST",headers:{"Accept":"application/json","Content-Type":"application/json"},body:JSON.stringify(json)};fetch("/mitm-play/play.json",config).then(function(response){resolve(response.json())}).then(function(data){resolve(data)})}catch(error){reject(error)}})};async function play(autofill){const{__args}=window.mitm;if(autofill){if(typeof autofill==="function"){autofill=autofill()}const browser=_ws_vendor();const lenth=autofill.length;const _page=window["xplay-page"];const _frame=window["xplay-frame"];const _json={autofill,browser,_page,_frame};const msg=lenth===1?`  ${autofill}`:JSON.stringify(autofill,null,2);console.log(`%cMacros: ${msg}`,_c2);let result;if([true,"off"].includes(__args.nosocket)){result=await _post(_json)}else{result=await _play(_json)}return result}}window.mitm.fn.play=play;window.mitm.fn.wait=wait;function macroAutomation(macro2){if(Array.isArray(macro2)){let macroIndex=0;const interval=setInterval(()=>{let selector=macro2[macroIndex];if(selector.match(/^ *[=-]>/)){const activeElement=CssSelectorGenerator.getCssSelector(document.activeElement);selector=`${activeElement} ${selector}`}play([selector]);macroIndex+=1;if(macroIndex>=macro2.length){clearInterval(interval)}},100)}}let stdDbl=[];let hghDbl=[];let stdCtl=[];let hghCtl=[];let stdAlt=[];let hghAlt=[];let saveKey="";const kdelay=1e3;let debounceDbl=void 0;function macroDbl(){const key1=`key:${stdDbl.join("")}`;const key2=`code:${hghDbl.join(":")}`;const{macrokeys,lastKey:e}=window.mitm;stdDbl=[];hghDbl=[];saveKey="";debounceDbl=void 0;macro=macrokeys[key1]||macrokeys[key2];console.log(`%cMacros: ctrl + alt  +  ${key1}  |  ${key2}`,_c2);if(macro){macro=macro(e);macroAutomation(macro);return true}}let debounceCtl=void 0;function macroCtl(){const key1=`key:<${stdCtl.join("")}>`;const key2=`code:<${hghCtl.join(":")}>`;const{macrokeys,lastKey:e}=window.mitm;stdCtl=[];hghCtl=[];saveKey="";debounceCtl=void 0;macro=macrokeys[key1]||macrokeys[key2];console.log(`%cMacros: .... + ctrl + ${key1} | ${key2}`,"color: #baeaf1");if(macro){macro=macro(e);macroAutomation(macro);return true}}let debounceAlt=void 0;function macroAlt(){const key1=`key:{${stdAlt.join("")}}`;const key2=`code:{${hghAlt.join(":")}}`;const{macrokeys,lastKey:e}=window.mitm;stdAlt=[];hghAlt=[];saveKey="";debounceAlt=void 0;macro=macrokeys[key1]||macrokeys[key2];console.log(`%cMacros: .... + alt  + ${key1} | ${key2}`,"color: #badaf1");if(macro){macro=macro(e);macroAutomation(macro);return true}}function keybUp(e){if(!e.altKey){if(debounceDbl||debounceCtl&&!e.ctrlKey||debounceAlt){clearTimeout(debounceDbl);clearTimeout(debounceCtl);clearTimeout(debounceAlt);if(debounceDbl){macroDbl()}else if(debounceCtl){macroCtl()}else{macroAlt()}debounceDbl=void 0;debounceCtl=void 0;debounceAlt=void 0}}}function keybCtrl(e){if(!e.code||["Alt","Control","Meta"].includes(e.key)){return}else{const{macrokeys}=window.mitm;if(e.key==="Shift"){if(e.ctrlKey){ctrl=!ctrl;container.right.style=styleRight+(!ctrl?"":"display: none;");container.topr.style=styleTopR+(!ctrl?"":"display: none;");container.left.style=styleLeft+(!ctrl?"":"display: none;")}}else{let char=_key(e);if(e.ctrlKey&&e.altKey){if(e.shiftKey){char=_key(e,{codeOnly:true});clearTimeout(debounceDbl);clearTimeout(debounceCtl);clearTimeout(debounceAlt);saveKey+=char;return}stdDbl.push(char);hghDbl.push(e.code);clearTimeout(debounceDbl);debounceDbl=setTimeout(macroDbl,kdelay)}else if(e.ctrlKey){stdCtl.push(char);hghCtl.push(e.code);clearTimeout(debounceCtl);debounceCtl=setTimeout(macroCtl,kdelay)}else if(e.altKey){stdAlt.push(char);hghAlt.push(e.code);clearTimeout(debounceAlt);debounceAlt=setTimeout(macroAlt,kdelay)}e._keys=saveKey;mitm.lastKey=e}}}const{location:location2}=document;let oldHref=location2.href;let oDebunk=void 0;function compareHref(nodes){if(oldHref!=location2.href){window.dispatchEvent(event);oldHref=location2.href}else{if(observerfn.length){oDebunk&&clearTimeout(oDebunk);oDebunk=setTimeout(()=>{oDebunk=void 0;for(const fn2 of observerfn){const name=fn2.name;if(name&&name.match(/Once$/)){if(onces[name]){continue}else{onces[name]=true}}fn2(nodes)}const{autobuttons,rightbuttons,leftbuttons}=window.mitm;rightbuttons&&setButtons(rightbuttons,"right");leftbuttons&&setButtons(leftbuttons,"left");const{autofill}=window.mitm;if(autofill){autobuttons&&setButtons(__spreadProps(__spreadValues({},autobuttons),{"Entry"(){play(autofill)}}),"topr")}else{autobuttons&&setButtons(autobuttons,"topr")}},100)}}}function init(){const html=document.querySelector("html");const htmlref=html.firstElementChild;const styleBtn=document.createElement("style");const divRight=document.createElement("div");const divTopR=document.createElement("div");const divLeft=document.createElement("div");const divCenter=document.createElement("div");styleBtn.innerHTML=style;divRight.innerHTML=`<span class="bgroup-right"></span>`;divTopR.innerHTML=`<span class="bgroup-topr"></span>`;divLeft.innerHTML=`<span class="bgroup-left"></span>`;divLeft.className="mitm-container left";divTopR.className="mitm-container topr";divRight.className="mitm-container right";divCenter.className="mitm-container center";divRight.style=styleRight;divTopR.style=styleTopR;divLeft.style=styleLeft;html.insertBefore(styleBtn,htmlref);html.insertBefore(divRight,htmlref);html.insertBefore(divTopR,htmlref);html.insertBefore(divLeft,htmlref);html.insertBefore(divCenter,htmlref);setTimeout(()=>{container.right=divRight;container.topr=divTopR;container.left=divLeft;button.style=`${buttonStyle}background-color: azure;`;bgroup.right=divRight.children[0];bgroup.topr=divTopR.children[0];bgroup.left=divLeft.children[0];urlChange(event);observed()},0)}const observer=new MutationObserver(compareHref);window.observer=observer;function observed(){observer.disconnect();observer.observe(document.body,{subtree:true,childList:true})}}}});var require_ws_debounce=__commonJS({"ws-client/_src/_ws_debounce.js"(exports,module){function debounce(fn,delay=500){let _timeout;return function(){const _this=this;const args=arguments;_timeout&&clearTimeout(_timeout);_timeout=setTimeout(()=>{fn.apply(_this,args)},delay)}}module.exports=debounce}});var require_ws_route=__commonJS({"ws-client/_src/_ws_route.js"(exports,module){var _ws_namespace=require_ws_namespace();module.exports=()=>{const namespace=_ws_namespace();let route=window.mitm.routes[namespace];const{_subns:s}=route._childns;if(s&&mitm.routes[s]){route=mitm.routes[s]}return route}}});var require_ws_observer=__commonJS({"ws-client/_src/_ws_observer.js"(exports,module){var _screenshot=require_screenshot();var _ws_namespace=require_ws_namespace();var _ws_debounce=require_ws_debounce();var _ws_vendor=require_ws_vendor();var _ws_route=require_ws_route();module.exports=()=>{if(location.origin.match("chrome-extension")){return}const host=location.origin.replace("://","~~");const sshot={};const nodes={};let route=_ws_route();if(route&&route.screenshot){const{observer:ob2}=route.screenshot;for(const id in ob2){let el={};if(ob2[id]===true){el={title:"notitle",insert:true,remove:true}}if(typeof ob2[id]!=="string"){el={title:"nocapture",insert:false,remove:false}}else{const arr=ob2[id].split(":");arr[1].split(",").map(e=>{el[e]=true});el.title=arr[0]}sshot[id]=el;nodes[id]={insert:false,remove:true}}}let ob;let fname;const namespace=_ws_namespace();const browser=_ws_vendor();const callback=function(){if(route&&route.screenshot){ob=route.screenshot.observer}const _page=window["xplay-page"];for(const id in nodes){const el=document.body.querySelectorAll(id);if(el.length){if(!nodes[id].insert){nodes[id].insert=true;if(nodes[id].remove!==void 0){nodes[id].remove=false}if(ob&&typeof ob[id]==="function"){const nod=el[0]||el;if(nod._ws_count===void 0){nod._ws_count=0}nod._ws_count+=1;if(nod._ws_count<2){ob[id](nod)}}if(sshot[id].insert){fname=location.pathname.replace(/^\//,"").replace(/\//g,"-");fname=`~${fname}-${sshot[id].title}-insert`;const params={namespace,_page,host,fname,browser};_screenshot(params)}}}else{if(!nodes[id].remove){nodes[id].remove=true;nodes[id].insert=false;if(sshot[id].remove){fname=location.pathname.replace(/^\//,"").replace(/\//g,"-");fname=`~${fname}-${sshot[id].title}-remove`;const params={namespace,_page,host,fname,browser};_screenshot(params)}}}}};document.addEventListener("DOMContentLoaded",()=>{const observer=new MutationObserver(_ws_debounce(callback,100));observer.observe(document.body,{attributes:true,childList:true,subtree:true})})}}});var require_ws_general=__commonJS({"ws-client/_src/_ws_general.js"(exports,module){var t64="Wabcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZh";var _c2="color: #bada55";var nanoid=(size=8)=>{let id="";while(size-- >0){id+=t64[Math.random()*64|0]}return id};module.exports=()=>{const{_ws}=window;window.ws_broadcast=(json,_all=true)=>{const msg={data:json,_all};_ws.send(`broadcast${JSON.stringify(msg)}`)};window.ws_emitpage=(json,regex="")=>{const msg={data:json,regex};_ws.send(`emitpage${JSON.stringify(msg)}`)};window.ws__style=(json,_all=true)=>{const msg={data:json,_all};_ws.send(`_style${JSON.stringify(msg)}`)};window.ws__ping=json=>{const msg={data:json};_ws.send(`_ping${JSON.stringify(msg)}`)};window.ws__help=()=>{_ws.send("_help{}")};window.ws__open=json=>{const msg={data:json};_ws.send(`_open${JSON.stringify(msg)}`)};window.ws__send=(cmd,data,handler)=>{const{__flag}=window.mitm;const id=nanoid();const key=`${cmd}:${id}`;window._ws_queue[key]=handler||(w=>{});setTimeout(function(){if(window._ws_queue[key]){delete window._ws_queue[key];console.log("%cWs: ws timeout!",_c2,key)}},5e3);const params=`${key}${JSON.stringify({data})}`;_ws.send(params)}}}});var require_ws_csp_err=__commonJS({"ws-client/_src/_ws_csp-err.js"(exports,module){var _ws_namespace=require_ws_namespace();var _timeout;var _csp={};module.exports=()=>{const cspError=function(e){const{hostname:host}=location;const namespace=_ws_namespace();const path=location.pathname.replace(/^\//,"").replace(/\//g,"-");const{blockedURI,disposition,documentURI,effectiveDirective,originalPolicy,timeStamp,type,violatedDirective}=e;const typ=`[${disposition}] ${documentURI}`;if(!_csp[typ]){_csp[typ]={}}if(!_csp[typ]._general_){_csp[typ]._general_={policy:originalPolicy,namespace,host,path}}const _doc=_csp[typ];if(!_doc[violatedDirective]){_doc[violatedDirective]={}}const _err=_doc[violatedDirective];if(!_err[blockedURI]){_err[blockedURI]={}}const _match=originalPolicy.match(`${violatedDirective} [^;]+;`);const directive=_match?_match[0]:effectiveDirective;_err[blockedURI]={directive,timeStamp,type};_timeout&&clearTimeout(_timeout);_timeout=setTimeout(()=>{console.log(">>> CSP:",_csp);_csp={}},4e3)};if(window.mitm.client.csp){document.addEventListener("securitypolicyviolation",cspError)}}}});var require_ws_macros=__commonJS({"ws-client/_src/_ws_macros.js"(exports,module){var _c2="color: #bada55";module.exports=function(){if(window._ws_connect===void 0){window._ws_connect={}}window.mitm.fn.hotKeys=obj=>{window.mitm.macrokeys=__spreadValues(__spreadValues({},window.mitm.macrokeys),obj)};window.mitm.fn.autoclick=()=>{setTimeout(()=>{document.querySelector(".btn-autofill").click()},1e3)};window.mitm.fn.getCookie=name=>{const value=`; ${document.cookie}`;const parts=value.split(`; ${name}=`);if(parts.length===2)return parts.pop().split(";").shift()};window.mitm._macros_=()=>{window.mitm.macrokeys={}};function init(_d){let msg="Macros: executed after ws open";console.log(`%c${msg}`,_c2,_d)}window._ws_connect.macrosOnMount=init}}});var _ws_postmessage=require_ws_postmessage();var _ws_initSocket=require_ws_init_socket();var _ws_screenshot=require_ws_screenshot();var _ws_location=require_ws_location();var _ws_observer=require_ws_observer();var _ws_general=require_ws_general();var _ws_cspErr=require_ws_csp_err();var _ws_macros=require_ws_macros();var _c="color: red";_ws_postmessage();_ws_initSocket();_ws_screenshot();_ws_location();_ws_observer();_ws_general();_ws_cspErr();_ws_macros();console.log("%cWs: ws-client loaded...",_c);})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiX3NyYy9fd3NfcG9zdG1lc3NhZ2UuanMiLCAiX3NyYy9fd3NfY2xpZW50LmpzIiwgIl9zcmMvX3dzX21zZy1wYXJzZXIuanMiLCAiX3NyYy9fd3NfaW4taWZyYW1lLmpzIiwgIl9zcmMvX3dzX3ZlbmRvci5qcyIsICJfc3JjL193c19pbml0LXNvY2tldC5qcyIsICJfc3JjL19zY3JlZW5zaG90LmpzIiwgIl9zcmMvX3dzX25hbWVzcGFjZS5qcyIsICJfc3JjL193c19zY3JlZW5zaG90LmpzIiwgIl9zcmMvX2tleWJvYXJkLmpzIiwgIl9zcmMvX3dzX2xvY2F0aW9uLmpzIiwgIl9zcmMvX3dzX2RlYm91bmNlLmpzIiwgIl9zcmMvX3dzX3JvdXRlLmpzIiwgIl9zcmMvX3dzX29ic2VydmVyLmpzIiwgIl9zcmMvX3dzX2dlbmVyYWwuanMiLCAiX3NyYy9fd3NfY3NwLWVyci5qcyIsICJfc3JjL193c19tYWNyb3MuanMiLCAiX3NyYy93cy1jbGllbnQuanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8qIGdsb2JhbCBsb2NhdGlvbiAqL1xyXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcclxuICBmdW5jdGlvbiByZWNlaXZlTWVzc2FnZSAoZXZlbnQpIHtcclxuICAgIGlmICh3aW5kb3cubWl0bS5jbGllbnQucG9zdG1lc3NhZ2UpIHtcclxuICAgICAgY29uc29sZS5sb2coYD4+PiBQb3N0bWVzc2FnZTogJHtldmVudC5vcmlnaW59ID0+IGh0dHBzOi8vJHtsb2NhdGlvbi5ob3N0fWAsIGV2ZW50LmRhdGEpXHJcbiAgICB9XHJcbiAgfVxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgcmVjZWl2ZU1lc3NhZ2UsIGZhbHNlKVxyXG5cclxuICAvLyBpZiAoIWNocm9tZS53aW5kb3dzKSB7XHJcbiAgLy8gICBmdW5jdGlvbiByZXBvcnRXaW5kb3dTaXplKCkge1xyXG4gIC8vICAgICBjb25zdCB7aW5uZXJXaWR0aCwgaW5uZXJIZWlnaHR9ID0gd2luZG93O1xyXG4gIC8vICAgICBjb25zb2xlLmxvZyh7aW5uZXJXaWR0aCwgaW5uZXJIZWlnaHR9KTtcclxuICAvLyAgIH1cclxuICAvLyAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHJlcG9ydFdpbmRvd1NpemUpO1xyXG4gIC8vIH1cclxufVxyXG4iLCAiY29uc3QgX2MgPSAnY29sb3I6ICNiYWRhNTUnXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcclxuICBsZXQgd2luZG93UmVmXHJcbiAgcmV0dXJuIHtcclxuICAgIC8vIGV4OiB3c19faGVscCgpXHJcbiAgICBfaGVscCAoeyBkYXRhIH0pIHtcclxuICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgIH0sXHJcbiAgICAvLyBleDogd3NfX3BpbmcoXCJ0aGVyZVwiKVxyXG4gICAgX3BpbmcgKHsgZGF0YSB9KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICB9LFxyXG4gICAgLy8gZXg6IHdzX19vcGVuKHt1cmw6IFwiaHR0cHM6Ly9nb29nbGUuY29tXCJ9KVxyXG4gICAgX29wZW4gKHsgZGF0YSB9KSB7XHJcbiAgICAgIGNvbnN0IGZlYXR1cmVzID0gJ2RpcmVjdG9yaWVzPTAsdGl0bGViYXI9MCx0b29sYmFyPTAsbG9jYXRpb249MCxzdGF0dXM9MCxtZW51YmFyPTAsd2lkdGg9ODAwLGhlaWdodD02MDAnXHJcbiAgICAgIHdpbmRvd1JlZiA9IHdpbmRvdy5vcGVuKGRhdGEudXJsLCAnX2xvZ3MnLCBmZWF0dXJlcylcclxuICAgICAgd2luZG93UmVmLmJsdXIoKVxyXG4gICAgfSxcclxuICAgIC8vIGV4OiB3c19fc3R5bGUoJy5pbnRybz0+YmFja2dyb3VuZDpyZWQ7JylcclxuICAgIF9zdHlsZSAoeyBkYXRhIH0pIHtcclxuICAgICAgY29uc3QgeyBxLCBjc3MgfSA9IGRhdGFcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChxKS5mb3JFYWNoKFxyXG4gICAgICAgIG5vZGUgPT4gKG5vZGUuc3R5bGUuY3NzVGV4dCA9IGNzcylcclxuICAgICAgKVxyXG4gICAgfSxcclxuICAgIC8vIGV4OiB3c19fXHJcbiAgICBfc2F2ZVRhZ3MgKHsgcm91dGVzIH0pIHtcclxuICAgICAgaWYgKCFsb2NhdGlvbi5vcmlnaW4ubWF0Y2goJ2Nocm9tZS1leHRlbnNpb24nKSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCclY1dzOiBVcGRhdGUgcm91dGVzJywgX2MpXHJcbiAgICAgICAgd2luZG93Lm1pdG0ucm91dGVzID0gcm91dGVzXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvLyBleDogd3NfX1xyXG4gICAgX2ZpbGVzICh7IGRhdGEsIHR5cCB9KSB7XHJcbiAgICAgIGNvbnN0IHsgZmlsZXMgfSA9IHdpbmRvdy5taXRtXHJcbiAgICAgIGNvbnNvbGUud2FybihgcmVjZWl2ZSBicm9kY2FzdCAke3R5cH1gKVxyXG4gICAgICAvKipcclxuICAgICAgICogZXZlbnQgaGFuZGxlciBhZnRlciByZWNlaXZpbmcgd3MgcGFja2V0XHJcbiAgICAgICAqIGllOiB3aW5kb3cubWl0bS5maWxlcy5yb3V0ZV9ldmVudHMgPSB7ZXZlbnRPYmplY3QuLi59XHJcbiAgICAgICAqL1xyXG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBmaWxlc1tgJHt0eXB9X2V2ZW50c2BdKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKGZpbGVzW2Ake3R5cH1fZXZlbnRzYF1ba2V5XSArICcnKVxyXG4gICAgICAgIGZpbGVzW2Ake3R5cH1fZXZlbnRzYF1ba2V5XShkYXRhKVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgX3NldENsaWVudCAoeyBkYXRhIH0pIHtcclxuICAgICAgY29uc29sZS5sb2coJyVjV3M6IF9zZXRDbGllbnQnLCBfYywgZGF0YSlcclxuICAgICAgd2luZG93Lm1pdG0uY2xpZW50ID0gZGF0YVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCAiLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXHJcbmNvbnN0IF93c19jbGllbnQgPSByZXF1aXJlKCcuL193c19jbGllbnQnKVxyXG5jb25zdCBfd3Nfd2NjbWQgPSBfd3NfY2xpZW50KClcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gKGV2ZW50LCBtc2cpID0+IHtcclxuICBpZiAod2luZG93Lm1pdG0uYXJndi5kZWJ1Zykge1xyXG4gICAgaWYgKG1zZy5sZW5ndGggPiA0MCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnPj4+IHdzLW1lc3NhZ2U6IGAlcy4uLmAnLCBtc2cuc2xpY2UoMCwgNDApKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coJz4+PiB3cy1tZXNzYWdlOiBgJXNgJywgbXNnKVxyXG4gICAgfVxyXG4gIH1cclxuICBjb25zdCBhcnIgPSBtc2cucmVwbGFjZSgvXFxzKyQvLCAnJykubWF0Y2goL14gKihbXFx3Ol0rKSAqKFxcey4qKS8pXHJcbiAgaWYgKGFycikge1xyXG4gICAgbGV0IFssIGNtZCwganNvbl0gPSBhcnJcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICh0eXBlb2YgKGpzb24pID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIGpzb24gPSBKU09OLnBhcnNlKGpzb24pXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoanNvbiwgZXJyb3IpXHJcbiAgICB9XHJcbiAgICBpZiAod2luZG93Ll93c19xdWV1ZVtjbWRdKSB7XHJcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSB3aW5kb3cuX3dzX3F1ZXVlW2NtZF1cclxuICAgICAgZGVsZXRlIHdpbmRvdy5fd3NfcXVldWVbY21kXVxyXG4gICAgICBoYW5kbGVyKGpzb24uZGF0YSlcclxuICAgIH0gZWxzZSBpZiAoX3dzX3djY21kW2NtZF0pIHtcclxuICAgICAgX3dzX3djY21kW2NtZF0uY2FsbChldmVudCwganNvbilcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwgIm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xyXG4gIGxldCBpZnJtXHJcbiAgdHJ5IHtcclxuICAgIGlmcm0gPSB3aW5kb3cuc2VsZiAhPT0gd2luZG93LnRvcFxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGlmcm0gPSB0cnVlXHJcbiAgfVxyXG4gIHJldHVybiBpZnJtID8gJ2lmcmFtZScgOiAnd2luZG93J1xyXG59XHJcbiIsICJtb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcclxuICBjb25zdCB7IHZlbmRvciB9ID0gbmF2aWdhdG9yXHJcbiAgY29uc3QgYnJvd3NlciA9IHtcclxuICAgICcnOiAnZmlyZWZveCcsXHJcbiAgICAnR29vZ2xlIEluYy4nOiAnY2hyb21pdW0nLFxyXG4gICAgJ0FwcGxlIENvbXB1dGVyLCBJbmMuJzogJ3dlYmtpdCdcclxuICB9W3ZlbmRvcl1cclxuICByZXR1cm4gYnJvd3NlclxyXG59XHJcbiIsICIvKiBnbG9iYWwgV2ViU29ja2V0ICovXHJcbi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xyXG5jb25zdCBfd3NfbXNnUGFyc2VyID0gcmVxdWlyZSgnLi9fd3NfbXNnLXBhcnNlcicpXHJcbmNvbnN0IF93c19pbklmcmFtZSA9IHJlcXVpcmUoJy4vX3dzX2luLWlmcmFtZScpXHJcbmNvbnN0IF93c192ZW5kb3IgPSByZXF1aXJlKCcuL193c192ZW5kb3InKVxyXG5jb25zdCBfYyA9ICdjb2xvcjogI2JhZGE1NSdcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xyXG4gIHdpbmRvdy5fd3NfcXVldWUgPSB7fVxyXG4gIHdpbmRvdy5fd3NfY29ubmVjdGVkID0gZmFsc2VcclxuICBjb25zdCB7X19hcmdzLCBfX2ZsYWd9ID0gd2luZG93Lm1pdG1cclxuXHJcbiAgaWYgKHdpbmRvdy5fd3NfY29ubmVjdD09PXVuZGVmaW5lZCkge1xyXG4gICAgd2luZG93Ll93c19jb25uZWN0ID0ge31cclxuICB9XHJcblxyXG4gIGNvbnN0IG9ub3BlbiA9IGRhdGEgPT4ge1xyXG4gICAgZnVuY3Rpb24gd3Nfc2VuZCgpIHtcclxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gd2luZG93Ll93c19jb25uZWN0KSB7XHJcbiAgICAgICAgY29uc3QgZm4gPSB3aW5kb3cuX3dzX2Nvbm5lY3Rba2V5XVxyXG4gICAgICAgIHdpbmRvdy5fd3NfY29ubmVjdGVkX3NlbmQgPSB0cnVlXHJcbiAgICAgICAgY29uc29sZS5sb2coYCVjV3M6ICR7Zm4rJyd9YCwgX2MpXHJcbiAgICAgICAgZm4oZGF0YSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChfX2ZsYWdbJ3dzLWNvbm5lY3QnXSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnJWNXczogb3BlbiBjb25uZWN0aW9uJywgX2MpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS50aW1lRW5kKCd3cycpXHJcbiAgICB3aW5kb3cuX3dzX2Nvbm5lY3RlZCA9IHRydWVcclxuXHJcbiAgICBzZXRUaW1lb3V0KHdzX3NlbmQsIDEpIC8vIG1pbmltaXplIGludGVybWl0dGVuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgaWYgKCF3aW5kb3cuX3dzX2Nvbm5lY3RlZF9zZW5kKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignUkVUUlkuLi4uLi4uLi4uJylcclxuICAgICAgICB3c19zZW5kKClcclxuICAgICAgfVxyXG4gICAgfSwgMTApIC8vIG1pbmltaXplIGludGVybWl0dGVuICAgICBcclxuICB9XHJcblxyXG4gIGNvbnN0IG9uY2xvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoX19mbGFnWyd3cy1jb25uZWN0J10pIHtcclxuICAgICAgY29uc29sZS5sb2coJyVjV3M6IGNsb3NlIGNvbm5lY3Rpb24nLCBfYylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IG9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICBpZiAoX19mbGFnWydvbi1tZXNzYWdlJ10pIHtcclxuICAgICAgY29uc29sZS5sb2coJyVjV3M6IG9uLW1lc3NhZ2U6JywgX2MsIGUuZGF0YSlcclxuICAgIH1cclxuICAgIF93c19tc2dQYXJzZXIoZSwgZS5kYXRhKVxyXG4gIH1cclxuICBcclxuICBjb25zdCBjb25uZWN0ID0gX19hcmdzLm5vc29ja2V0PT09dW5kZWZpbmVkXHJcbiAgaWYgKGNvbm5lY3QgfHwgKHdpbmRvdy5jaHJvbWUgJiYgY2hyb21lLnRhYnMpKSB7XHJcbiAgICBjb25zdCB2ZW5kb3IgPSBbJ2ZpcmVmb3gnLCAnd2Via2l0J10uaW5jbHVkZXMoX3dzX3ZlbmRvcigpKVxyXG4gICAgY29uc3QgcHJlID0gdmVuZG9yID8gJ3dzJyA6ICd3c3MnXHJcbiAgICBjb25zdCBwcnQgPSB2ZW5kb3IgPyAnMzAwMicgOiAnMzAwMSdcclxuICAgIGNvbnN0IHVybCA9IGAke3ByZX06Ly9sb2NhbGhvc3Q6JHtwcnR9L3dzP3BhZ2U9JHtfd3NfaW5JZnJhbWUoKX0mdXJsPSR7ZG9jdW1lbnQuVVJMLnNwbGl0KCc/JylbMF19YFxyXG4gICAgbGV0IHdzXHJcbiAgICB0cnkge1xyXG4gICAgICB3cyA9IG5ldyBXZWJTb2NrZXQodXJsKSAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXHJcbiAgICB9XHJcbiAgICBjb25zb2xlLnRpbWUoJ3dzJylcclxuICAgIHdpbmRvdy5fd3MgPSB3c1xyXG4gIFxyXG4gICAgd3Mub25vcGVuID0gb25vcGVuXHJcbiAgICB3cy5vbmNsb3NlID0gb25jbG9zZVxyXG4gICAgd3Mub25tZXNzYWdlID0gb25tZXNzYWdlICBcclxuICB9XHJcbiAgaWYgKF9fZmxhZ1snd3MtY29ubmVjdCddKSB7XHJcbiAgICBjb25zb2xlLmxvZyhgJWNXczogJHtjb25uZWN0ID8gJ2luaXQnIDogJ29mZid9IGNvbm5lY3Rpb25gLCBfYylcclxuICB9XHJcbn1cclxuIiwgImFzeW5jIGZ1bmN0aW9uIHNjcmVuc2hvdChqc29uKSB7XHJcbiAgY29uc3Qge19fYXJnc30gPSB3aW5kb3cubWl0bVxyXG4gIGlmIChbdHJ1ZSwgJ29mZiddLmluY2x1ZGVzKF9fYXJncy5ub3NvY2tldCkpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoanNvbilcclxuICAgICAgICB9XHJcbiAgICAgICAgZmV0Y2goJy9taXRtLXBsYXkvc2NyZW5zaG90Lmpzb24nLCBjb25maWcpXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsgcmVzb2x2ZShyZXNwb25zZS5qc29uKCkpfSlcclxuICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhICAgICkgeyByZXNvbHZlKGRhdGEpICAgICAgICAgICB9KVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlamVjdChlcnJvcilcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgeyAgXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgd2luZG93LndzX19zZW5kKCdzY3JlZW5zaG90JywganNvbiwgcmVzb2x2ZSlcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZWplY3QoZXJyb3IpXHJcbiAgICAgIH1cclxuICAgIH0pICBcclxuICB9XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSBzY3JlbnNob3QiLCAiLyogZ2xvYmFsIGxvY2F0aW9uICovXHJcbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xyXG4gIGNvbnN0IHsgaG9zdG5hbWU6IGhvc3QgfSA9IGxvY2F0aW9uXHJcbiAgbGV0IG5hbWVzcGFjZVxyXG5cclxuICBmdW5jdGlvbiB0b1JlZ2V4IChzdHIpIHtcclxuICAgIHJldHVybiBzdHIucmVwbGFjZSgvXFwuL2csICdcXFxcLicpLnJlcGxhY2UoL1xcPy9nLCAnXFxcXD8nKVxyXG4gIH1cclxuXHJcbiAgZm9yIChjb25zdCBrZXkgaW4gd2luZG93Lm1pdG0ucm91dGVzKSB7XHJcbiAgICBpZiAoaG9zdC5tYXRjaCh0b1JlZ2V4KGtleS5yZXBsYWNlKC9+L2csICdbXi5dKicpKSkpIHtcclxuICAgICAgbmFtZXNwYWNlID0ga2V5XHJcbiAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBuYW1lc3BhY2VcclxufVxyXG4iLCAiLyogZ2xvYmFsIGxvY2F0aW9uLCBtaXRtICovXHJcbi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xyXG5jb25zdCBfc2NyZWVuc2hvdCA9IHJlcXVpcmUoJy4vX3NjcmVlbnNob3QnKVxyXG5jb25zdCBfd3NfbmFtZXNwYWNlID0gcmVxdWlyZSgnLi9fd3NfbmFtZXNwYWNlJylcclxuY29uc3QgX3dzX3ZlbmRvciA9IHJlcXVpcmUoJy4vX3dzX3ZlbmRvcicpXHJcbmNvbnN0IF9jID0gJ2NvbG9yOiAjYmFkYTU1J1xyXG5cclxubGV0IGFjdFxyXG5mdW5jdGlvbiBzY3JlZW5zaG90IChlKSB7XHJcbiAgaWYgKG1pdG0uYXJndi5sYXp5Y2xpY2spIHtcclxuICAgIGlmIChtaXRtLnNjcmVlbnNob3QpIHtcclxuICAgICAgd2luZG93Lm1pdG0uc2NyZWVuc2hvdCA9IHVuZGVmaW5lZFxyXG4gICAgICBjb25zb2xlLmxvZygnPj4+IGRlbGF5IGFjdGlvbicpXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgaWYgKGFjdCkge1xyXG4gICAgICBhY3QgPSB1bmRlZmluZWRcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbnN0IG5hbWVzcGFjZSA9IF93c19uYW1lc3BhY2UoKVxyXG4gIGNvbnN0IGJyb3dzZXIgPSBfd3NfdmVuZG9yKClcclxuICBjb25zdCBob3N0ID0gbG9jYXRpb24ub3JpZ2luLnJlcGxhY2UoJzovLycgLCd+ficpXHJcbiAgY29uc3Qgcm91dGUgPSB3aW5kb3cubWl0bS5yb3V0ZXNbbmFtZXNwYWNlXVxyXG4gIGNvbnN0IHsgc2VsZWN0b3IgfSA9IHJvdXRlLnNjcmVlbnNob3RcclxuXHJcbiAgY29uc3QgYXJyID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKVxyXG4gIGNvbnN0IGZuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXlxcLy9nLCAnficpXHJcbiAgY29uc3QgZGVsYXkgPSBtaXRtLmFyZ3YubGF6eWNsaWNrID09PSB0cnVlID8gNzAwIDogbWl0bS5hcmd2LmxhenljbGlja1xyXG4gIGZvciAoY29uc3QgZWwgb2YgYXJyKSB7XHJcbiAgICBsZXQgbm9kZSA9IGUudGFyZ2V0XHJcbiAgICB3aGlsZSAoZWwgIT09IG5vZGUgJiYgbm9kZSAhPT0gbnVsbCAmJiBub2RlICE9PSBkb2N1bWVudC5ib2R5KSB7XHJcbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGVcclxuICAgIH1cclxuICAgIGlmIChub2RlICE9PSBkb2N1bWVudC5ib2R5KSB7XHJcbiAgICAgIGNvbnN0IF9wYWdlID0gd2luZG93Wyd4cGxheS1wYWdlJ11cclxuICAgICAgY29uc3QgcGFyYW1zID0geyBuYW1lc3BhY2UsIF9wYWdlLCBob3N0LCBicm93c2VyIH1cclxuICAgICAgcGFyYW1zLmZuYW1lID0gZm5hbWU9PT0nficgPyAnfl8nIDogZm5hbWVcclxuICAgICAgX3NjcmVlbnNob3QocGFyYW1zKVxyXG4gICAgICBpZiAobWl0bS5hcmd2LmxhenljbGljaykge1xyXG4gICAgICAgIC8vIGRlbGF5IGFjdGlvbiB0byBmaW5pc2ggc2NyZWVuc2hvdFxyXG4gICAgICAgIHdpbmRvdy5taXRtLnNjcmVlbnNob3QgPSBlLnRhcmdldFxyXG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKClcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgbWl0bS5sYXN0RXZlbnQgPSBlXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBhY3QgPSB3aW5kb3cubWl0bS5zY3JlZW5zaG90XHJcbiAgICAgICAgICBpZiAoYWN0KSB7XHJcbiAgICAgICAgICAgIGFjdC5jbGljaygpXHJcbiAgICAgICAgICAgIGFjdCA9IHVuZGVmaW5lZFxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJyVjV3M6IGRlbGF5IGFjdGlvbiB1bmRlZmluZWQnLCBfYyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZGVsYXkpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbWl0bS5sYXN0RXZlbnQgPSBlXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBldmVudGNsaWNrKGUpIHtcclxuICBtaXRtLmxhc3RFdmVudCA9IGVcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XHJcbiAgY29uc3Qgcm91dGUgPSB3aW5kb3cubWl0bS5yb3V0ZXNbX3dzX25hbWVzcGFjZSgpXVxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gICAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKVxyXG4gICAgaWYgKHJvdXRlICYmIHJvdXRlLnNjcmVlbnNob3QpIHtcclxuICAgICAgYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNjcmVlbnNob3QpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnRjbGljaylcclxuICAgIH1cclxuICB9KVxyXG59XHJcbiIsICJjb25zdCBrY29kZTEgPSB7XHJcbiAgQmFja3F1b3RlOiAnYCcsXHJcbiAgQnJhY2tldExlZnQ6ICdbJyxcclxuICBCcmFja2V0UmlnaHQ6ICddJyxcclxuICBCYWNrc2xhc2g6ICdcXFxcJyxcclxuICBDb21tYSAgICA6ICcsJyxcclxuICBQZXJpb2QgICA6ICcuJyxcclxuICBRdW90ZSAgICA6IFwiJ1wiLFxyXG4gIFNlbWljb2xvbjogJzsnLFxyXG4gIFNsYXNoICAgIDogJy8nLFxyXG4gIFNwYWNlICAgIDogJyAnLFxyXG4gIE1pbnVzICAgIDogJy0nLFxyXG4gIEVxdWFsICAgIDogJz0nLFxyXG59XHJcblxyXG5jb25zdCBrY29kZTIgPSB7XHJcbiAgQmFja3F1b3RlOiAnficsXHJcbiAgQnJhY2tldExlZnQ6ICd7JyxcclxuICBCcmFja2V0UmlnaHQ6ICd9JyxcclxuICBCYWNrc2xhc2g6ICd8JyxcclxuICBDb21tYSAgICA6ICc8JyxcclxuICBQZXJpb2QgICA6ICc+JyxcclxuICBRdW90ZSAgICA6ICdcIicsXHJcbiAgU2VtaWNvbG9uOiAnOicsXHJcbiAgU2xhc2ggICAgOiAnPycsXHJcbiAgU3BhY2UgICAgOiAnICcsXHJcbiAgTWludXMgICAgOiAnXycsXHJcbiAgRXF1YWwgICAgOiAnKycsXHJcbn1cclxuXHJcbmNvbnN0IGtjb2RlMyA9IHtcclxuICAxOiAnIScsXHJcbiAgMjogJ0AnLFxyXG4gIDM6ICcjJyxcclxuICA0OiAnJCcsXHJcbiAgNTogJyUnLFxyXG4gIDY6ICdeJyxcclxuICA3OiAnJicsXHJcbiAgODogJyonLFxyXG4gIDk6ICcoJyxcclxuICAxMDogJyknXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gKGV2biwgb3B0PXtjb2RlT25seTpmYWxzZX0pID0+IHtcclxuICBjb25zdCB7Y29kZSwgc2hpZnRLZXl9ID0gZXZuXHJcbiAgY29uc3Qge2NvZGVPbmx5fSA9IG9wdFxyXG4gIGxldCBtYXRjaFxyXG4gIGxldCBjaGFyID0gJydcclxuICBtYXRjaCA9IGNvZGUubWF0Y2goL0tleSguKS8pXHJcbiAgaWYgKG1hdGNoKSB7XHJcbiAgICBjaGFyID0gbWF0Y2gucG9wKClcclxuICAgIGlmICghY29kZU9ubHkgJiYgIXNoaWZ0S2V5KSB7XHJcbiAgICAgIGNoYXIgPSBjaGFyLnRvTG93ZXJDYXNlKClcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgbWF0Y2ggPSBjb2RlLm1hdGNoKC8oRGlnaXR8TnVtcGFkKSguKS8pXHJcbiAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgY2hhciA9IG1hdGNoLnBvcCgpXHJcbiAgICAgIGlmICghY29kZU9ubHkgJiYgc2hpZnRLZXkpIHtcclxuICAgICAgICBjaGFyID0ga2NvZGUzW2NoYXJdXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICghY29kZU9ubHkgJiYgc2hpZnRLZXkpIHtcclxuICAgICAgICBjaGFyID0ga2NvZGUyW2NvZGVdXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhciA9IGtjb2RlMVtjb2RlXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBjaGFyXHJcbn1cclxuIiwgIi8qIGdsb2JhbCBsb2NhdGlvbiwgaGlzdG9yeSwgY2hyb21lLCBFdmVudCwgQ3NzU2VsZWN0b3JHZW5lcmF0b3IgKi9cclxuLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXHJcbmNvbnN0IF93c19uYW1lc3BhY2UgPSByZXF1aXJlKCcuL193c19uYW1lc3BhY2UnKVxyXG5jb25zdCBfd3NfdmVuZG9yID0gcmVxdWlyZSgnLi9fd3NfdmVuZG9yJylcclxuY29uc3QgX2tleSA9IHJlcXVpcmUoJy4vX2tleWJvYXJkJylcclxuY29uc3Qgd2FpdCA9IG1zID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xyXG5jb25zdCBfYyA9ICdjb2xvcjogI2JhZGE1NSdcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xyXG4gIGNvbnN0IHN0eWxlTGVmdCAgPSAndG9wOiAtOHB4OyBsZWZ0OiAgM3B4OydcclxuICBjb25zdCBzdHlsZVRvcFIgID0gJ3RvcDogLThweDsgcmlnaHQ6IDNweDsnXHJcbiAgY29uc3Qgc3R5bGVSaWdodCA9ICd0b3A6ICA4cHg7IHJpZ2h0OiAzcHg7IHRleHQtYWxpZ246IGVuZDsnXHJcbiAgY29uc3QgYnV0dG9uU3R5bGU9ICcnXHJcbiAgY29uc3Qgc3R5bGUgPSBgXHJcbiAgLm1pdG0tY29udGFpbmVyIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHotaW5kZXg6IDk5OTk5O1xyXG4gIH1cclxuICAubWl0bS1jb250YWluZXIuY2VudGVyIHtcclxuICAgIGJhY2tncm91bmQ6ICNkY2VhZmZiMDtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIC8qIGNlbnRlciB0aGUgZWxlbWVudCAqL1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgdG9wOiAyMHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICAvKiBnaXZlIGl0IGRpbWVuc2lvbnMgKi9cclxuICAgIG1pbi1oZWlnaHQ6IDEwZW07XHJcbiAgICB3aWR0aDogOTAlO1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxuICB9XHJcbiAgLm1pdG0tYnRuIHtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGZvbnQtc2l6ZTogOHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gICAgZm9udC1mYW1pbHk6IG1vbmFjbywgQ29uc29sYXMsIFwiTHVjaWRhIENvbnNvbGVcIiwgbW9ub3NwYWNlO1xyXG4gIH1cclxuICAubWl0bS1idG46aG92ZXJ7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lO1xyXG4gIH1cclxuICAuYmdyb3VwLXJpZ2h0IC5taXRtLWJyLFxyXG4gIC5iZ3JvdXAtdG9wciAubWl0bS1icixcclxuICAuYmdyb3VwLWxlZnQgLm1pdG0tYnJ7XHJcbiAgICBkaXNwbGF5OnRhYmxlO1xyXG4gIH1gXHJcbiAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoJ3VybGNoYW5nZWQnKVxyXG4gIGxldCBjb250YWluZXIgPSB7XHJcbiAgICByaWdodDoge30sXHJcbiAgICB0b3ByOiB7fSxcclxuICAgIGxlZnQ6IHt9LFxyXG4gIH1cclxuICBsZXQgY3RybCA9IGZhbHNlXHJcbiAgbGV0IGJ1dHRvbiA9IHt9XHJcbiAgbGV0IGJncm91cCA9IHtcclxuICAgIHJpZ2h0OiB7fSxcclxuICAgIHRvcHI6IHt9LFxyXG4gICAgbGVmdDoge30sXHJcbiAgfVxyXG4gIGxldCBpbnRlcnZJZFxyXG4gIGxldCBvYnNlcnZlcmZuID0gW11cclxuXHJcbiAgZnVuY3Rpb24gdG9SZWdleCAocGF0aE1zZykge1xyXG4gICAgbGV0IFtwYXRoLCBtc2ddID0gcGF0aE1zZy5zcGxpdCgnPT4nKS5tYXAoaXRlbSA9PiBpdGVtLnRyaW0oKSlcclxuICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL1xcLi9nLCAnXFxcXC4nKS5yZXBsYWNlKC9cXD8vZywgJ1xcXFw/JylcclxuICAgIHJldHVybiB7IHBhdGgsIG1zZyB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVCdXR0b24oYnV0dG9ucywgcG9zKSB7XHJcbiAgICBsZXQgYnJcclxuICAgIGZvciAoY29uc3QgaWQgaW4gYnV0dG9ucykge1xyXG4gICAgICBjb25zdCBbY2FwdGlvbiwgY29sb3IsIGtsYXNdID0gaWQuc3BsaXQoJ3wnKVxyXG4gICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxyXG4gICAgICBjb25zdCBmbiAgPSBidXR0b25zW2lkXVxyXG4gICAgICBidG4ub25jbGljayA9IGFzeW5jIGUgPT4ge1xyXG4gICAgICAgIGxldCBhcnIgPSBmbihlKVxyXG4gICAgICAgIGlmIChhcnIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XHJcbiAgICAgICAgICBhcnIgPSBhd2FpdCBhcnJcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xyXG4gICAgICAgICAgYXdhaXQgcGxheShhcnIpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGJ0bi5pbm5lclRleHQgPSBjYXB0aW9uXHJcbiAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdtaXRtLWJ0bicpXHJcbiAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKGAke3Bvc31gKVxyXG4gICAgICBidG4uY2xhc3NMaXN0LmFkZChrbGFzIHx8IGNhcHRpb24pXHJcbiAgICAgIGJ0bi5zdHlsZSA9IGJ1dHRvblN0eWxlICsgKGNvbG9yID8gYGJhY2tncm91bmQ6ICR7Y29sb3J9O2AgOiAnJylcclxuICAgICAgaWYgKHBvcz09PSd0b3ByJykge1xyXG4gICAgICAgIGJyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXHJcbiAgICAgICAgYnIuaW5uZXJIVE1MID0gJyZuYnNwOydcclxuICAgICAgICBiZ3JvdXBbcG9zXS5hcHBlbmRDaGlsZChicilcclxuICAgICAgICBiZ3JvdXBbcG9zXS5hcHBlbmRDaGlsZChidG4pXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYnIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcclxuICAgICAgICBici5jbGFzc05hbWUgPSAnbWl0bS1icidcclxuICAgICAgICBiZ3JvdXBbcG9zXS5hcHBlbmRDaGlsZChidG4pXHJcbiAgICAgICAgYmdyb3VwW3Bvc10uYXBwZW5kQ2hpbGQoYnIpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldEJ1dHRvbnMgKGJ1dHRvbnMsIHBvc2l0aW9uKSB7XHJcbiAgICBpZiAoYmdyb3VwW3Bvc2l0aW9uXSkge1xyXG4gICAgICBiZ3JvdXBbcG9zaXRpb25dLmlubmVySFRNTCA9ICcnXHJcbiAgICAgIGNyZWF0ZUJ1dHRvbihidXR0b25zLCBwb3NpdGlvbilcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxldCBkZWJ1bmtcclxuICBsZXQgb25jZXMgPSB7fSAvLyBmZWF0OiBvbmV0aW1lIGZuIGNhbGxcclxuICBhc3luYyBmdW5jdGlvbiB1cmxDaGFuZ2UgKGV2ZW50KSB7XHJcbiAgICBjb25zdCBuYW1lc3BhY2UgPSBfd3NfbmFtZXNwYWNlKClcclxuICAgIGlmICh3aW5kb3cubWl0bS5hdXRvZmlsbCkge1xyXG4gICAgICBkZWxldGUgd2luZG93Lm1pdG0uYXV0b2ZpbGxcclxuICAgIH1cclxuICAgIGlmICh3aW5kb3cubWl0bS5hdXRvaW50ZXJ2YWwpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZJZClcclxuICAgICAgZGVsZXRlIHdpbmRvdy5taXRtLmF1dG9pbnRlcnZhbFxyXG4gICAgfVxyXG4gICAgaWYgKHdpbmRvdy5taXRtLmF1dG9idXR0b25zKSB7XHJcbiAgICAgIGRlbGV0ZSB3aW5kb3cubWl0bS5hdXRvYnV0dG9uc1xyXG4gICAgfVxyXG4gICAgaWYgKHdpbmRvdy5taXRtLnJpZ2h0YnV0dG9ucykge1xyXG4gICAgICBkZWxldGUgd2luZG93Lm1pdG0ucmlnaHRidXR0b25zXHJcbiAgICB9XHJcbiAgICBpZiAod2luZG93Lm1pdG0ubGVmdGJ1dHRvbnMpIHtcclxuICAgICAgZGVsZXRlIHdpbmRvdy5taXRtLmxlZnRidXR0b25zXHJcbiAgICB9XHJcbiAgICBpZiAod2luZG93Lm1pdG0ubWFjcm9rZXlzKSB7XHJcbiAgICAgIGRlbGV0ZSB3aW5kb3cubWl0bS5tYWNyb2tleXNcclxuICAgIH1cclxuICAgIGlmIChuYW1lc3BhY2UpIHtcclxuICAgICAgY29uc3Qge2hyZWYsIG9yaWdpbn0gPSBsb2NhdGlvblxyXG4gICAgICBjb25zdCBfaHJlZiA9IGhyZWYucmVwbGFjZShvcmlnaW4sICcnKVxyXG4gICAgICBjb25zdCB7X21hY3Jvc18sIG1hY3Jvc30gPSB3aW5kb3cubWl0bVxyXG4gICAgICBvYnNlcnZlcmZuID0gW11cclxuICAgICAgX21hY3Jvc18gJiYgX21hY3Jvc18oKVxyXG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBtYWNyb3MpIHtcclxuICAgICAgICBjb25zdCB7IHBhdGgsIG1zZyB9ID0gdG9SZWdleChrZXkpXHJcbiAgICAgICAgaWYgKF9ocmVmLm1hdGNoKHBhdGgpKSB7XHJcbiAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gbXNnIHx8ICdFbnRyeSdcclxuICAgICAgICAgIGxldCBmbnMgPSBtYWNyb3Nba2V5XSgpXHJcbiAgICAgICAgICBpZiAoZm5zIGluc3RhbmNlb2YgUHJvbWlzZSkge1xyXG4gICAgICAgICAgICBmbnMgPSBhd2FpdCBmbnNcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICh0eXBlb2YgZm5zID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyZm4ucHVzaChmbnMpXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZm5zKSkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZuMiBvZiBmbnMpIHtcclxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGZuMiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXJmbi5wdXNoKGZuMilcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGRlYnVuayAmJiBjbGVhclRpbWVvdXQoZGVidW5rKVxyXG4gICAgICAgICAgZGVidW5rID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIG9uY2VzID0ge30gLy8gZmVhdDogb25ldGltZSBmbiBjYWxsXHJcbiAgICAgICAgICAgIGRlYnVuayA9IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICBjb25zdCB7YXV0b2J1dHRvbnMsIHJpZ2h0YnV0dG9ucywgbGVmdGJ1dHRvbnN9ID0gd2luZG93Lm1pdG1cclxuICAgICAgICAgICAgcmlnaHRidXR0b25zICYmIHNldEJ1dHRvbnMocmlnaHRidXR0b25zLCAncmlnaHQnKVxyXG4gICAgICAgICAgICBsZWZ0YnV0dG9ucyAmJiBzZXRCdXR0b25zKGxlZnRidXR0b25zLCAnbGVmdCcpXHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cubWl0bS5hdXRvZmlsbCkge1xyXG4gICAgICAgICAgICAgIGF1dG9idXR0b25zICYmIHNldEJ1dHRvbnMoe1xyXG4gICAgICAgICAgICAgICAgLi4uYXV0b2J1dHRvbnMsXHJcbiAgICAgICAgICAgICAgICAnRW50cnknKCkge1xyXG4gICAgICAgICAgICAgICAgICBsZXQge2F1dG9maWxsfSA9IHdpbmRvdy5taXRtXHJcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXV0b2ZpbGwgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRvZmlsbCA9IGF1dG9maWxsKClcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBwbGF5KGF1dG9maWxsKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0sICd0b3ByJylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhdXRvYnV0dG9ucyAmJiBzZXRCdXR0b25zKGF1dG9idXR0b25zLCAndG9wcicpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sIDApXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb250YWluZXIucmlnaHQuc3R5bGUgPSBzdHlsZVJpZ2h0XHJcbiAgICBjb250YWluZXIudG9wci5zdHlsZSAgPSBzdHlsZVRvcFJcclxuICAgIGNvbnRhaW5lci5sZWZ0LnN0eWxlICA9IHN0eWxlTGVmdFxyXG4gICAgY29uc3QgdmlzaWJsZSA9ICh3aW5kb3cubWl0bS5hdXRvZmlsbClcclxuICAgIGJ1dHRvbi5zdHlsZSA9IGJ1dHRvblN0eWxlICsgKHZpc2libGUgPyAnYmFja2dyb3VuZC1jb2xvcjogYXp1cmU7JyA6ICdkaXNwbGF5OiBub25lOycpXHJcbiAgICBpZiAodHlwZW9mICh3aW5kb3cubWl0bS5hdXRvaW50ZXJ2YWwpID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIGludGVydklkID0gc2V0SW50ZXJ2YWwod2luZG93Lm1pdG0uYXV0b2ludGVydmFsLCA1MDApXHJcbiAgICB9XHJcbiAgICBjdHJsID0gZmFsc2VcclxuICB9XHJcblxyXG4gIGNvbnN0IHZlbmRvciA9IF93c192ZW5kb3IoKVxyXG4gIGlmIChbJ2ZpcmVmb3gnLCAnd2Via2l0J10uaW5jbHVkZXModmVuZG9yKSB8fCAoY2hyb21lICYmICFjaHJvbWUudGFicykpIHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5YkN0cmwpXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJykuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBrZXliVXApXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndXJsY2hhbmdlZCcsIHVybENoYW5nZSlcclxuICAgIGlmKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkaW5nJykge1xyXG4gICAgICBpbml0KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGluaXQpXHJcbiAgICB9ICAgIFxyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGNvbnN0IGZuID0gaGlzdG9yeS5wdXNoU3RhdGVcclxuICBoaXN0b3J5LnB1c2hTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGZuLmFwcGx5KGhpc3RvcnksIGFyZ3VtZW50cylcclxuICAgIGNvbXBhcmVIcmVmKClcclxuICB9XHJcblxyXG4gIF9wbGF5ID0ganNvbiA9PiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgd2luZG93LndzX19zZW5kKCdhdXRvZmlsbCcsIGpzb24sIHJlc29sdmUpXHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmVqZWN0KGVycm9yKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgX3Bvc3QgPSBqc29uID0+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoanNvbilcclxuICAgICAgICB9XHJcbiAgICAgICAgZmV0Y2goJy9taXRtLXBsYXkvcGxheS5qc29uJywgY29uZmlnKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7IHJlc29sdmUocmVzcG9uc2UuanNvbigpKX0pXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSAgICApIHsgcmVzb2x2ZShkYXRhKSAgICAgICAgICAgfSlcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZWplY3QoZXJyb3IpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBhc3luYyBmdW5jdGlvbiBwbGF5IChhdXRvZmlsbCkge1xyXG4gICAgY29uc3Qge19fYXJnc30gPSB3aW5kb3cubWl0bVxyXG4gICAgaWYgKGF1dG9maWxsKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgKGF1dG9maWxsKSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGF1dG9maWxsID0gYXV0b2ZpbGwoKVxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IGJyb3dzZXIgPSBfd3NfdmVuZG9yKClcclxuICAgICAgY29uc3QgbGVudGggPSBhdXRvZmlsbC5sZW5ndGhcclxuICAgICAgY29uc3QgX3BhZ2UgPSB3aW5kb3dbJ3hwbGF5LXBhZ2UnXVxyXG4gICAgICBjb25zdCBfZnJhbWUgPSB3aW5kb3dbJ3hwbGF5LWZyYW1lJ11cclxuICAgICAgY29uc3QgX2pzb24gPSB7YXV0b2ZpbGwsIGJyb3dzZXIsIF9wYWdlLCBfZnJhbWV9XHJcbiAgICAgIGNvbnN0IG1zZyA9IGxlbnRoID09PSAxID8gYCAgJHthdXRvZmlsbH1gIDogSlNPTi5zdHJpbmdpZnkoYXV0b2ZpbGwsIG51bGwsIDIpXHJcbiAgICAgIGNvbnNvbGUubG9nKGAlY01hY3JvczogJHttc2d9YCwgX2MpXHJcbiAgICAgIGxldCByZXN1bHRcclxuICAgICAgaWYgKFt0cnVlLCAnb2ZmJ10uaW5jbHVkZXMoX19hcmdzLm5vc29ja2V0KSkge1xyXG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IF9wb3N0KF9qc29uKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc3VsdCA9IGF3YWl0IF9wbGF5KF9qc29uKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN1bHRcclxuICAgIH1cclxuICB9XHJcbiAgd2luZG93Lm1pdG0uZm4ucGxheSA9IHBsYXlcclxuICB3aW5kb3cubWl0bS5mbi53YWl0ID0gd2FpdFxyXG5cclxuICBmdW5jdGlvbiBtYWNyb0F1dG9tYXRpb24obWFjcm8pIHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KG1hY3JvKSkge1xyXG4gICAgICBsZXQgbWFjcm9JbmRleCA9IDBcclxuICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgbGV0IHNlbGVjdG9yID0gbWFjcm9bbWFjcm9JbmRleF1cclxuICAgICAgICBpZiAoc2VsZWN0b3IubWF0Y2goL14gKls9LV0+LykpIHtcclxuICAgICAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBDc3NTZWxlY3RvckdlbmVyYXRvci5nZXRDc3NTZWxlY3Rvcihkb2N1bWVudC5hY3RpdmVFbGVtZW50KVxyXG4gICAgICAgICAgc2VsZWN0b3IgPSBgJHthY3RpdmVFbGVtZW50fSAke3NlbGVjdG9yfWBcclxuICAgICAgICB9XHJcbiAgICAgICAgcGxheShbc2VsZWN0b3JdKVxyXG5cclxuICAgICAgICBtYWNyb0luZGV4ICs9IDFcclxuICAgICAgICBpZiAobWFjcm9JbmRleCA+PSBtYWNyby5sZW5ndGgpIHtcclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAxMDApXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZXQgc3RkRGJsID0gW11cclxuICBsZXQgaGdoRGJsID0gW11cclxuICBsZXQgc3RkQ3RsID0gW11cclxuICBsZXQgaGdoQ3RsID0gW11cclxuICBsZXQgc3RkQWx0ID0gW11cclxuICBsZXQgaGdoQWx0ID0gW11cclxuICBsZXQgc2F2ZUtleSA9ICcnXHJcbiAgY29uc3Qga2RlbGF5ID0gMTAwMFxyXG5cclxuICBsZXQgZGVib3VuY2VEYmwgPSB1bmRlZmluZWRcclxuICBmdW5jdGlvbiBtYWNyb0RibCgpIHtcclxuICAgIGNvbnN0IGtleTEgPSBga2V5OiR7c3RkRGJsLmpvaW4oJycpfWBcclxuICAgIGNvbnN0IGtleTIgPSBgY29kZToke2hnaERibC5qb2luKCc6Jyl9YFxyXG4gICAgY29uc3QgeyBtYWNyb2tleXMsIGxhc3RLZXk6IGUgfSA9IHdpbmRvdy5taXRtXHJcblxyXG4gICAgc3RkRGJsID0gW11cclxuICAgIGhnaERibCA9IFtdXHJcbiAgICBzYXZlS2V5ID0gJydcclxuICAgIGRlYm91bmNlRGJsID0gdW5kZWZpbmVkXHJcbiAgICBtYWNybyA9IG1hY3Jva2V5c1trZXkxXSB8fCBtYWNyb2tleXNba2V5Ml1cclxuICAgIGNvbnNvbGUubG9nKGAlY01hY3JvczogY3RybCArIGFsdCAgKyAgJHtrZXkxfSAgfCAgJHtrZXkyfWAsIF9jKVxyXG4gICAgaWYgKG1hY3JvKSB7XHJcbiAgICAgIG1hY3JvID0gbWFjcm8oZSlcclxuICAgICAgbWFjcm9BdXRvbWF0aW9uKG1hY3JvKVxyXG4gICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbGV0IGRlYm91bmNlQ3RsID0gdW5kZWZpbmVkXHJcbiAgZnVuY3Rpb24gbWFjcm9DdGwoKSB7XHJcbiAgICBjb25zdCBrZXkxID0gYGtleTo8JHtzdGRDdGwuam9pbignJyl9PmBcclxuICAgIGNvbnN0IGtleTIgPSBgY29kZTo8JHtoZ2hDdGwuam9pbignOicpfT5gXHJcbiAgICBjb25zdCB7IG1hY3Jva2V5cywgbGFzdEtleTogZSB9ID0gd2luZG93Lm1pdG1cclxuXHJcbiAgICBzdGRDdGwgPSBbXVxyXG4gICAgaGdoQ3RsID0gW11cclxuICAgIHNhdmVLZXkgPSAnJ1xyXG4gICAgZGVib3VuY2VDdGwgPSB1bmRlZmluZWRcclxuICAgIG1hY3JvID0gbWFjcm9rZXlzW2tleTFdIHx8IG1hY3Jva2V5c1trZXkyXVxyXG4gICAgY29uc29sZS5sb2coYCVjTWFjcm9zOiAuLi4uICsgY3RybCArICR7a2V5MX0gfCAke2tleTJ9YCwgJ2NvbG9yOiAjYmFlYWYxJylcclxuICAgIGlmIChtYWNybykge1xyXG4gICAgICBtYWNybyA9IG1hY3JvKGUpXHJcbiAgICAgIG1hY3JvQXV0b21hdGlvbihtYWNybylcclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxldCBkZWJvdW5jZUFsdCA9IHVuZGVmaW5lZFxyXG4gIGZ1bmN0aW9uIG1hY3JvQWx0KCkge1xyXG4gICAgY29uc3Qga2V5MSA9IGBrZXk6eyR7c3RkQWx0LmpvaW4oJycpfX1gXHJcbiAgICBjb25zdCBrZXkyID0gYGNvZGU6eyR7aGdoQWx0LmpvaW4oJzonKX19YFxyXG4gICAgY29uc3QgeyBtYWNyb2tleXMsIGxhc3RLZXk6IGUgfSA9IHdpbmRvdy5taXRtXHJcblxyXG4gICAgc3RkQWx0ID0gW11cclxuICAgIGhnaEFsdCA9IFtdXHJcbiAgICBzYXZlS2V5ID0gJydcclxuICAgIGRlYm91bmNlQWx0ID0gdW5kZWZpbmVkXHJcbiAgICBtYWNybyA9IG1hY3Jva2V5c1trZXkxXSB8fCBtYWNyb2tleXNba2V5Ml1cclxuICAgIGNvbnNvbGUubG9nKGAlY01hY3JvczogLi4uLiArIGFsdCAgKyAke2tleTF9IHwgJHtrZXkyfWAsICdjb2xvcjogI2JhZGFmMScpXHJcbiAgICBpZiAobWFjcm8pIHtcclxuICAgICAgbWFjcm8gPSBtYWNybyhlKVxyXG4gICAgICBtYWNyb0F1dG9tYXRpb24obWFjcm8pXHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBrZXliVXAgKGUpIHtcclxuICAgIGlmICghZS5hbHRLZXkpIHtcclxuICAgICAgaWYgKGRlYm91bmNlRGJsIHx8IChkZWJvdW5jZUN0bCAmJiAhZS5jdHJsS2V5KSB8fCBkZWJvdW5jZUFsdCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChkZWJvdW5jZURibClcclxuICAgICAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VDdGwpXHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KGRlYm91bmNlQWx0KVxyXG4gICAgICAgIGlmIChkZWJvdW5jZURibCkge1xyXG4gICAgICAgICAgbWFjcm9EYmwoKVxyXG4gICAgICAgIH0gZWxzZSBcclxuICAgICAgICBpZiAoZGVib3VuY2VDdGwpIHtcclxuICAgICAgICAgIG1hY3JvQ3RsKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbWFjcm9BbHQoKVxyXG4gICAgICAgIH1cclxuICAgICAgICBkZWJvdW5jZURibCA9IHVuZGVmaW5lZFxyXG4gICAgICAgIGRlYm91bmNlQ3RsID0gdW5kZWZpbmVkXHJcbiAgICAgICAgZGVib3VuY2VBbHQgPSB1bmRlZmluZWRcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24ga2V5YkN0cmwgKGUpIHtcclxuICAgIGlmICghZS5jb2RlIHx8IFsnQWx0JywgJ0NvbnRyb2wnLCAnTWV0YSddLmluY2x1ZGVzKGUua2V5KSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IHsgbWFjcm9rZXlzIH0gPSB3aW5kb3cubWl0bVxyXG4gICAgICBpZiAoZS5rZXkgPT09ICdTaGlmdCcpIHtcclxuICAgICAgICBpZiAoZS5jdHJsS2V5KSB7XHJcbiAgICAgICAgICBjdHJsID0gIWN0cmxcclxuICAgICAgICAgIGNvbnRhaW5lci5yaWdodC5zdHlsZSA9IHN0eWxlUmlnaHQgKyAoIWN0cmwgPyAnJyA6ICdkaXNwbGF5OiBub25lOycpXHJcbiAgICAgICAgICBjb250YWluZXIudG9wci5zdHlsZSAgPSBzdHlsZVRvcFIgKyAoIWN0cmwgPyAnJyA6ICdkaXNwbGF5OiBub25lOycpXHJcbiAgICAgICAgICBjb250YWluZXIubGVmdC5zdHlsZSAgPSBzdHlsZUxlZnQgKyAoIWN0cmwgPyAnJyA6ICdkaXNwbGF5OiBub25lOycpXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCBjaGFyID0gX2tleShlKVxyXG4gICAgICAgIGlmIChlLmN0cmxLZXkgJiYgZS5hbHRLZXkpIHtcclxuICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgIGNoYXIgPSBfa2V5KGUsIHtjb2RlT25seTogdHJ1ZX0pXHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChkZWJvdW5jZURibClcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGRlYm91bmNlQ3RsKVxyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VBbHQpXHJcbiAgICAgICAgICAgIHNhdmVLZXkgKz0gY2hhclxyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgIH0gXHJcbiAgICAgICAgICBzdGREYmwucHVzaChjaGFyKVxyXG4gICAgICAgICAgaGdoRGJsLnB1c2goZS5jb2RlKVxyXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KGRlYm91bmNlRGJsKVxyXG4gICAgICAgICAgZGVib3VuY2VEYmwgPSBzZXRUaW1lb3V0KG1hY3JvRGJsLCBrZGVsYXkpXHJcbiAgICAgICAgfSBlbHNlIGlmIChlLmN0cmxLZXkpIHtcclxuICAgICAgICAgIHN0ZEN0bC5wdXNoKGNoYXIpXHJcbiAgICAgICAgICBoZ2hDdGwucHVzaChlLmNvZGUpXHJcbiAgICAgICAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VDdGwpXHJcbiAgICAgICAgICBkZWJvdW5jZUN0bCA9IHNldFRpbWVvdXQobWFjcm9DdGwsIGtkZWxheSlcclxuICAgICAgICB9IGVsc2UgaWYgKGUuYWx0S2V5KSB7XHJcbiAgICAgICAgICBzdGRBbHQucHVzaChjaGFyKVxyXG4gICAgICAgICAgaGdoQWx0LnB1c2goZS5jb2RlKVxyXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KGRlYm91bmNlQWx0KVxyXG4gICAgICAgICAgZGVib3VuY2VBbHQgPSBzZXRUaW1lb3V0KG1hY3JvQWx0LCBrZGVsYXkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGUuX2tleXMgPSBzYXZlS2V5XHJcbiAgICAgICAgbWl0bS5sYXN0S2V5ID0gZSAgICAgICAgXHJcbiAgICAgIH0gXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCB7bG9jYXRpb259ID0gZG9jdW1lbnRcclxuICBsZXQgb2xkSHJlZiA9IGxvY2F0aW9uLmhyZWZcclxuICBsZXQgb0RlYnVuayA9IHVuZGVmaW5lZFxyXG4gIGZ1bmN0aW9uIGNvbXBhcmVIcmVmKG5vZGVzKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnJGNNYWNyb3M6IERPTSBtdXRhdGVkIScsIF9jKVxyXG4gICAgaWYgKG9sZEhyZWYgIT0gbG9jYXRpb24uaHJlZikge1xyXG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudClcclxuICAgICAgb2xkSHJlZiA9IGxvY2F0aW9uLmhyZWZcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChvYnNlcnZlcmZuLmxlbmd0aCkge1xyXG4gICAgICAgIG9EZWJ1bmsgJiYgY2xlYXJUaW1lb3V0KG9EZWJ1bmspXHJcbiAgICAgICAgb0RlYnVuayA9IHNldFRpbWVvdXQoKCk9PiB7XHJcbiAgICAgICAgICBvRGVidW5rID0gdW5kZWZpbmVkXHJcbiAgICAgICAgICBmb3IgKGNvbnN0IGZuIG9mIG9ic2VydmVyZm4pIHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGZuLm5hbWVcclxuICAgICAgICAgICAgaWYgKG5hbWUgJiYgbmFtZS5tYXRjaCgvT25jZSQvKSkge1xyXG4gICAgICAgICAgICAgIGlmIChvbmNlc1tuYW1lXSkgeyAvLyBmZWF0OiBvbmV0aW1lIGZuIGNhbGxcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG9uY2VzW25hbWVdID0gdHJ1ZVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmbihub2RlcylcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnN0IHthdXRvYnV0dG9ucywgcmlnaHRidXR0b25zLCBsZWZ0YnV0dG9uc30gPSB3aW5kb3cubWl0bVxyXG4gICAgICAgICAgcmlnaHRidXR0b25zICYmIHNldEJ1dHRvbnMocmlnaHRidXR0b25zLCAncmlnaHQnKVxyXG4gICAgICAgICAgbGVmdGJ1dHRvbnMgJiYgc2V0QnV0dG9ucyhsZWZ0YnV0dG9ucywgJ2xlZnQnKVxyXG4gICAgICAgICAgY29uc3QgeyBhdXRvZmlsbCB9ID0gd2luZG93Lm1pdG1cclxuICAgICAgICAgIGlmIChhdXRvZmlsbCkge1xyXG4gICAgICAgICAgICBhdXRvYnV0dG9ucyAmJiBzZXRCdXR0b25zKHtcclxuICAgICAgICAgICAgICAuLi5hdXRvYnV0dG9ucyxcclxuICAgICAgICAgICAgICAnRW50cnknKCkge3BsYXkoYXV0b2ZpbGwpfVxyXG4gICAgICAgICAgICB9LCAndG9wcicpXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhdXRvYnV0dG9ucyAmJiBzZXRCdXR0b25zKGF1dG9idXR0b25zLCAndG9wcicpXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0sIDEwMClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGNvbnN0IGh0bWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdodG1sJylcclxuICAgIGNvbnN0IGh0bWxyZWYgPSBodG1sLmZpcnN0RWxlbWVudENoaWxkXHJcbiAgICBjb25zdCBzdHlsZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJylcclxuICAgIGNvbnN0IGRpdlJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIGNvbnN0IGRpdlRvcFIgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIGNvbnN0IGRpdkxlZnQgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIGNvbnN0IGRpdkNlbnRlcj0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHJcbiAgICBzdHlsZUJ0bi5pbm5lckhUTUwgPSBzdHlsZVxyXG4gICAgZGl2UmlnaHQuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwiYmdyb3VwLXJpZ2h0XCI+PC9zcGFuPmBcclxuICAgIGRpdlRvcFIuaW5uZXJIVE1MICA9IGA8c3BhbiBjbGFzcz1cImJncm91cC10b3ByXCI+PC9zcGFuPmBcclxuICAgIGRpdkxlZnQuaW5uZXJIVE1MICA9IGA8c3BhbiBjbGFzcz1cImJncm91cC1sZWZ0XCI+PC9zcGFuPmBcclxuICAgIGRpdkxlZnQuY2xhc3NOYW1lICA9ICdtaXRtLWNvbnRhaW5lciBsZWZ0J1xyXG4gICAgZGl2VG9wUi5jbGFzc05hbWUgID0gJ21pdG0tY29udGFpbmVyIHRvcHInXHJcbiAgICBkaXZSaWdodC5jbGFzc05hbWUgPSAnbWl0bS1jb250YWluZXIgcmlnaHQnXHJcbiAgICBkaXZDZW50ZXIuY2xhc3NOYW1lPSAnbWl0bS1jb250YWluZXIgY2VudGVyJ1xyXG4gICAgZGl2UmlnaHQuc3R5bGUgPSBzdHlsZVJpZ2h0XHJcbiAgICBkaXZUb3BSLnN0eWxlICA9IHN0eWxlVG9wUlxyXG4gICAgZGl2TGVmdC5zdHlsZSAgID0gc3R5bGVMZWZ0XHJcblxyXG4gICAgaHRtbC5pbnNlcnRCZWZvcmUoc3R5bGVCdG4sIGh0bWxyZWYpXHJcbiAgICBodG1sLmluc2VydEJlZm9yZShkaXZSaWdodCwgaHRtbHJlZilcclxuICAgIGh0bWwuaW5zZXJ0QmVmb3JlKGRpdlRvcFIsIGh0bWxyZWYpXHJcbiAgICBodG1sLmluc2VydEJlZm9yZShkaXZMZWZ0LCBodG1scmVmKVxyXG4gICAgaHRtbC5pbnNlcnRCZWZvcmUoZGl2Q2VudGVyLCBodG1scmVmKVxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGNvbnRhaW5lci5yaWdodD0gZGl2UmlnaHRcclxuICAgICAgY29udGFpbmVyLnRvcHIgPSBkaXZUb3BSXHJcbiAgICAgIGNvbnRhaW5lci5sZWZ0ID0gZGl2TGVmdFxyXG4gICAgICBidXR0b24uc3R5bGUgPSBgJHtidXR0b25TdHlsZX1iYWNrZ3JvdW5kLWNvbG9yOiBhenVyZTtgXHJcbiAgICAgIGJncm91cC5yaWdodCA9IGRpdlJpZ2h0LmNoaWxkcmVuWzBdXHJcbiAgICAgIGJncm91cC50b3ByICA9IGRpdlRvcFIuY2hpbGRyZW5bMF1cclxuICAgICAgYmdyb3VwLmxlZnQgID0gZGl2TGVmdC5jaGlsZHJlblswXVxyXG4gICAgICB1cmxDaGFuZ2UoZXZlbnQpXHJcbiAgICAgIG9ic2VydmVkKClcclxuICAgIH0sIDApXHJcbiAgfVxyXG5cclxuICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNvbXBhcmVIcmVmKTtcclxuICB3aW5kb3cub2JzZXJ2ZXIgPSBvYnNlcnZlclxyXG4gIGZ1bmN0aW9uIG9ic2VydmVkKCkge1xyXG4gICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpXHJcbiAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHtzdWJ0cmVlOiB0cnVlLCBjaGlsZExpc3Q6IHRydWV9KVxyXG4gIH1cclxuXHJcbn1cclxuIiwgImZ1bmN0aW9uIGRlYm91bmNlIChmbiwgZGVsYXkgPSA1MDApIHtcclxuICBsZXQgX3RpbWVvdXRcclxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgX3RoaXMgPSB0aGlzXHJcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzXHJcbiAgICBfdGltZW91dCAmJiBjbGVhclRpbWVvdXQoX3RpbWVvdXQpXHJcbiAgICBfdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBmbi5hcHBseShfdGhpcywgYXJncylcclxuICAgIH0sIGRlbGF5KVxyXG4gIH1cclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IGRlYm91bmNlXHJcbiIsICIvKiBnbG9iYWwgbG9jYXRpb24gKi9cclxuY29uc3QgX3dzX25hbWVzcGFjZSA9IHJlcXVpcmUoJy4vX3dzX25hbWVzcGFjZScpXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcclxuICBjb25zdCBuYW1lc3BhY2UgPSBfd3NfbmFtZXNwYWNlKClcclxuICBsZXQgcm91dGUgPSB3aW5kb3cubWl0bS5yb3V0ZXNbbmFtZXNwYWNlXVxyXG4gIGNvbnN0IHtfc3VibnM6IHN9ID0gcm91dGUuX2NoaWxkbnNcclxuICBpZiAocyAmJiBtaXRtLnJvdXRlc1tzXSkge1xyXG4gICAgcm91dGU9IG1pdG0ucm91dGVzW3NdXHJcbiAgfVxyXG4gIHJldHVybiByb3V0ZVxyXG59XHJcbiIsICIvKiBnbG9iYWwgbG9jYXRpb24sIE11dGF0aW9uT2JzZXJ2ZXIgKi9cclxuLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXHJcbmNvbnN0IF9zY3JlZW5zaG90ID0gcmVxdWlyZSgnLi9fc2NyZWVuc2hvdCcpXHJcbmNvbnN0IF93c19uYW1lc3BhY2UgPSByZXF1aXJlKCcuL193c19uYW1lc3BhY2UnKVxyXG5jb25zdCBfd3NfZGVib3VuY2UgPSByZXF1aXJlKCcuL193c19kZWJvdW5jZScpXHJcbmNvbnN0IF93c192ZW5kb3IgPSByZXF1aXJlKCcuL193c192ZW5kb3InKVxyXG5jb25zdCBfd3Nfcm91dGUgPSByZXF1aXJlKCcuL193c19yb3V0ZScpXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcclxuICBpZiAobG9jYXRpb24ub3JpZ2luLm1hdGNoKCdjaHJvbWUtZXh0ZW5zaW9uJykpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBjb25zdCBob3N0ID0gbG9jYXRpb24ub3JpZ2luLnJlcGxhY2UoJzovLycgLCd+ficpXHJcbiAgY29uc3Qgc3Nob3QgPSB7fVxyXG4gIGNvbnN0IG5vZGVzID0ge31cclxuXHJcbiAgbGV0IHJvdXRlID0gX3dzX3JvdXRlKClcclxuICBpZiAocm91dGUgJiYgcm91dGUuc2NyZWVuc2hvdCkge1xyXG4gICAgY29uc3QgeyBvYnNlcnZlcjogb2IgfSA9IHJvdXRlLnNjcmVlbnNob3RcclxuICAgIGZvciAoY29uc3QgaWQgaW4gb2IpIHtcclxuICAgICAgbGV0IGVsID0ge31cclxuICAgICAgaWYgKG9iW2lkXSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIGVsID0ge1xyXG4gICAgICAgICAgdGl0bGU6ICdub3RpdGxlJyxcclxuICAgICAgICAgIGluc2VydDogdHJ1ZSxcclxuICAgICAgICAgIHJlbW92ZTogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgfSBpZiAodHlwZW9mIG9iW2lkXSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICBlbCA9IHtcclxuICAgICAgICAgIHRpdGxlOiAnbm9jYXB0dXJlJyxcclxuICAgICAgICAgIGluc2VydDogZmFsc2UsXHJcbiAgICAgICAgICByZW1vdmU6IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGFyciA9IG9iW2lkXS5zcGxpdCgnOicpXHJcbiAgICAgICAgYXJyWzFdLnNwbGl0KCcsJykubWFwKGUgPT4ge1xyXG4gICAgICAgICAgZWxbZV0gPSB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgICBlbC50aXRsZSA9IGFyclswXVxyXG4gICAgICB9XHJcbiAgICAgIHNzaG90W2lkXSA9IGVsXHJcbiAgICAgIG5vZGVzW2lkXSA9IHtcclxuICAgICAgICBpbnNlcnQ6IGZhbHNlLFxyXG4gICAgICAgIHJlbW92ZTogdHJ1ZVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZXQgb2JcclxuICBsZXQgZm5hbWVcclxuICBjb25zdCBuYW1lc3BhY2UgPSBfd3NfbmFtZXNwYWNlKClcclxuICBjb25zdCBicm93c2VyID0gX3dzX3ZlbmRvcigpXHJcbiAgY29uc3QgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAocm91dGUgJiYgcm91dGUuc2NyZWVuc2hvdCkge1xyXG4gICAgICBvYiA9IHJvdXRlLnNjcmVlbnNob3Qub2JzZXJ2ZXJcclxuICAgIH1cclxuICAgIGNvbnN0IF9wYWdlID0gd2luZG93Wyd4cGxheS1wYWdlJ11cclxuICAgIGZvciAoY29uc3QgaWQgaW4gbm9kZXMpIHtcclxuICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoaWQpXHJcbiAgICAgIGlmIChlbC5sZW5ndGgpIHtcclxuICAgICAgICBpZiAoIW5vZGVzW2lkXS5pbnNlcnQpIHtcclxuICAgICAgICAgIG5vZGVzW2lkXS5pbnNlcnQgPSB0cnVlXHJcbiAgICAgICAgICBpZiAobm9kZXNbaWRdLnJlbW92ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG5vZGVzW2lkXS5yZW1vdmUgPSBmYWxzZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKG9iICYmIHR5cGVvZiBvYltpZF09PT0nZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vZCA9IGVsWzBdIHx8IGVsXHJcbiAgICAgICAgICAgIGlmIChub2QuX3dzX2NvdW50PT09dW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgbm9kLl93c19jb3VudCA9IDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBub2QuX3dzX2NvdW50ICs9IDFcclxuICAgICAgICAgICAgaWYgKG5vZC5fd3NfY291bnQ8Mikge1xyXG4gICAgICAgICAgICAgIG9iW2lkXShub2QpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gXHJcbiAgICAgICAgICBpZiAoc3Nob3RbaWRdLmluc2VydCkge1xyXG4gICAgICAgICAgICBmbmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCAnJykucmVwbGFjZSgvXFwvL2csICctJylcclxuICAgICAgICAgICAgZm5hbWUgPSBgfiR7Zm5hbWV9LSR7c3Nob3RbaWRdLnRpdGxlfS1pbnNlcnRgXHJcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHsgbmFtZXNwYWNlLCBfcGFnZSwgaG9zdCwgZm5hbWUsIGJyb3dzZXIgfVxyXG4gICAgICAgICAgICBfc2NyZWVuc2hvdChwYXJhbXMpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICghbm9kZXNbaWRdLnJlbW92ZSkge1xyXG4gICAgICAgICAgbm9kZXNbaWRdLnJlbW92ZSA9IHRydWVcclxuICAgICAgICAgIG5vZGVzW2lkXS5pbnNlcnQgPSBmYWxzZVxyXG4gICAgICAgICAgaWYgKHNzaG90W2lkXS5yZW1vdmUpIHtcclxuICAgICAgICAgICAgZm5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgJycpLnJlcGxhY2UoL1xcLy9nLCAnLScpXHJcbiAgICAgICAgICAgIGZuYW1lID0gYH4ke2ZuYW1lfS0ke3NzaG90W2lkXS50aXRsZX0tcmVtb3ZlYFxyXG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7IG5hbWVzcGFjZSwgX3BhZ2UsIGhvc3QsIGZuYW1lLCBicm93c2VyIH1cclxuICAgICAgICAgICAgX3NjcmVlbnNob3QocGFyYW1zKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcclxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoX3dzX2RlYm91bmNlKGNhbGxiYWNrLCAxMDApKVxyXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XHJcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXHJcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcclxuICAgICAgc3VidHJlZTogdHJ1ZVxyXG4gICAgfSlcclxuICB9KSAgXHJcbn1cclxuIiwgImNvbnN0IHQ2NCA9ICdXYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpoJ1xyXG5jb25zdCBfYyA9ICdjb2xvcjogI2JhZGE1NSdcclxuXHJcbmNvbnN0IG5hbm9pZCA9IChzaXplID0gOCkgPT4ge1xyXG4gIGxldCBpZCA9ICcnXHJcbiAgd2hpbGUgKHNpemUtLSA+IDApIHtcclxuICAgIGlkICs9IHQ2NFtNYXRoLnJhbmRvbSgpICogNjQgfCAwXVxyXG4gIH1cclxuICByZXR1cm4gaWRcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XHJcbiAgY29uc3QgeyBfd3MgfSA9IHdpbmRvd1xyXG5cclxuICAvLyBleDogd3NfYnJvYWRjYXN0KCdfc3R5bGV7XCJkYXRhXCI6e1wicVwiOlwiKlwiLFwiY3NzXCI6XCJjb2xvcjpibHVlO1wifX0nKVxyXG4gIC8vIGV4OiB3c19icm9hZGNhc3QoJ19waW5ne1wiZGF0YVwiOlwiSGkhXCJ9JylcclxuICB3aW5kb3cud3NfYnJvYWRjYXN0ID0gKGpzb24sIF9hbGwgPSB0cnVlKSA9PiB7XHJcbiAgICBjb25zdCBtc2cgPSB7IGRhdGE6IGpzb24sIF9hbGwgfVxyXG4gICAgX3dzLnNlbmQoYGJyb2FkY2FzdCR7SlNPTi5zdHJpbmdpZnkobXNnKX1gKVxyXG4gIH1cclxuXHJcbiAgLy8gZXg6IHdzX2VtaXRwYWdlKCdfc3R5bGV7XCJkYXRhXCI6e1wicVwiOlwiKlwiLFwiY3NzXCI6XCJjb2xvcjpibHVlO1wifX0nKVxyXG4gIC8vIGV4OiB3c19lbWl0cGFnZSgnX3Bpbmd7XCJkYXRhXCI6XCJIaSFcIn0nKVxyXG4gIHdpbmRvdy53c19lbWl0cGFnZSA9IChqc29uLCByZWdleCA9ICcnKSA9PiB7XHJcbiAgICBjb25zdCBtc2cgPSB7IGRhdGE6IGpzb24sIHJlZ2V4IH1cclxuICAgIF93cy5zZW5kKGBlbWl0cGFnZSR7SlNPTi5zdHJpbmdpZnkobXNnKX1gKVxyXG4gIH1cclxuXHJcbiAgLy8gZXg6IHdzX19zdHlsZSh7XCJxXCI6XCIqXCIsXCJjc3NcIjpcImNvbG9yOmJsdWU7XCJ9KVxyXG4gIHdpbmRvdy53c19fc3R5bGUgPSAoanNvbiwgX2FsbCA9IHRydWUpID0+IHtcclxuICAgIGNvbnN0IG1zZyA9IHsgZGF0YToganNvbiwgX2FsbCB9XHJcbiAgICBfd3Muc2VuZChgX3N0eWxlJHtKU09OLnN0cmluZ2lmeShtc2cpfWApXHJcbiAgfVxyXG5cclxuICAvLyBleDogd3NfX3BpbmcoJ0hpIScpXHJcbiAgd2luZG93LndzX19waW5nID0gKGpzb24pID0+IHtcclxuICAgIGNvbnN0IG1zZyA9IHsgZGF0YToganNvbiB9XHJcbiAgICBfd3Muc2VuZChgX3Bpbmcke0pTT04uc3RyaW5naWZ5KG1zZyl9YClcclxuICB9XHJcblxyXG4gIC8vIGV4OiB3c19faGVscCgpXHJcbiAgd2luZG93LndzX19oZWxwID0gKCkgPT4ge1xyXG4gICAgX3dzLnNlbmQoJ19oZWxwe30nKVxyXG4gIH1cclxuXHJcbiAgLy8gZXg6IHdzX19vcGVuKHt1cmw6J2h0dHBzOi8vZ29vZ2xlLmNvbSd9KVxyXG4gIHdpbmRvdy53c19fb3BlbiA9IChqc29uKSA9PiB7XHJcbiAgICBjb25zdCBtc2cgPSB7IGRhdGE6IGpzb24gfVxyXG4gICAgX3dzLnNlbmQoYF9vcGVuJHtKU09OLnN0cmluZ2lmeShtc2cpfWApXHJcbiAgfVxyXG5cclxuICB3aW5kb3cud3NfX3NlbmQgPSAoY21kLCBkYXRhLCBoYW5kbGVyKSA9PiB7XHJcbiAgICBjb25zdCB7IF9fZmxhZyB9ID0gd2luZG93Lm1pdG1cclxuICAgIGNvbnN0IGlkID0gbmFub2lkKClcclxuICAgIGNvbnN0IGtleSA9IGAke2NtZH06JHtpZH1gXHJcbiAgICB3aW5kb3cuX3dzX3F1ZXVlW2tleV0gPSBoYW5kbGVyIHx8ICh3ID0+IHt9KVxyXG5cclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAod2luZG93Ll93c19xdWV1ZVtrZXldKSB7XHJcbiAgICAgICAgZGVsZXRlIHdpbmRvdy5fd3NfcXVldWVba2V5XVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCclY1dzOiB3cyB0aW1lb3V0IScsIF9jLCBrZXkpXHJcbiAgICAgIH1cclxuICAgIH0sIDUwMDApXHJcbiAgICBjb25zdCBwYXJhbXMgPSBgJHtrZXl9JHtKU09OLnN0cmluZ2lmeSh7IGRhdGEgfSl9YFxyXG4gICAgX3dzLnNlbmQocGFyYW1zKVxyXG4gIH1cclxufVxyXG4iLCAiLyogZ2xvYmFsIGxvY2F0aW9uICovXHJcbi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xyXG5jb25zdCBfd3NfbmFtZXNwYWNlID0gcmVxdWlyZSgnLi9fd3NfbmFtZXNwYWNlJylcclxuXHJcbmxldCBfdGltZW91dFxyXG5sZXQgX2NzcCA9IHt9XHJcbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xyXG4gIGNvbnN0IGNzcEVycm9yID0gZnVuY3Rpb24gKGUpIHtcclxuICAgIGNvbnN0IHsgaG9zdG5hbWU6IGhvc3QgfSA9IGxvY2F0aW9uXHJcbiAgICBjb25zdCBuYW1lc3BhY2UgPSBfd3NfbmFtZXNwYWNlKClcclxuICAgIGNvbnN0IHBhdGggPSBsb2NhdGlvbi5wYXRobmFtZVxyXG4gICAgICAucmVwbGFjZSgvXlxcLy8sICcnKVxyXG4gICAgICAucmVwbGFjZSgvXFwvL2csICctJylcclxuICAgIGNvbnN0IHtcclxuICAgICAgYmxvY2tlZFVSSSxcclxuICAgICAgZGlzcG9zaXRpb24sXHJcbiAgICAgIGRvY3VtZW50VVJJLFxyXG4gICAgICBlZmZlY3RpdmVEaXJlY3RpdmUsXHJcbiAgICAgIG9yaWdpbmFsUG9saWN5LFxyXG4gICAgICB0aW1lU3RhbXAsXHJcbiAgICAgIHR5cGUsXHJcbiAgICAgIHZpb2xhdGVkRGlyZWN0aXZlXHJcbiAgICB9ID0gZVxyXG4gICAgY29uc3QgdHlwID0gYFske2Rpc3Bvc2l0aW9ufV0gJHtkb2N1bWVudFVSSX1gXHJcbiAgICBpZiAoIV9jc3BbdHlwXSkge1xyXG4gICAgICBfY3NwW3R5cF0gPSB7fVxyXG4gICAgfVxyXG4gICAgaWYgKCFfY3NwW3R5cF0uX2dlbmVyYWxfKSB7XHJcbiAgICAgIF9jc3BbdHlwXS5fZ2VuZXJhbF8gPSB7XHJcbiAgICAgICAgcG9saWN5OiBvcmlnaW5hbFBvbGljeSxcclxuICAgICAgICBuYW1lc3BhY2UsXHJcbiAgICAgICAgaG9zdCxcclxuICAgICAgICBwYXRoXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IF9kb2MgPSBfY3NwW3R5cF1cclxuICAgIGlmICghX2RvY1t2aW9sYXRlZERpcmVjdGl2ZV0pIHtcclxuICAgICAgX2RvY1t2aW9sYXRlZERpcmVjdGl2ZV0gPSB7fVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IF9lcnIgPSBfZG9jW3Zpb2xhdGVkRGlyZWN0aXZlXVxyXG4gICAgaWYgKCFfZXJyW2Jsb2NrZWRVUkldKSB7XHJcbiAgICAgIF9lcnJbYmxvY2tlZFVSSV0gPSB7fVxyXG4gICAgfVxyXG4gICAgY29uc3QgX21hdGNoID0gb3JpZ2luYWxQb2xpY3kubWF0Y2goYCR7dmlvbGF0ZWREaXJlY3RpdmV9IFteO10rO2ApXHJcbiAgICBjb25zdCBkaXJlY3RpdmUgPSBfbWF0Y2ggPyBfbWF0Y2hbMF0gOiBlZmZlY3RpdmVEaXJlY3RpdmVcclxuICAgIF9lcnJbYmxvY2tlZFVSSV0gPSB7XHJcbiAgICAgIGRpcmVjdGl2ZSxcclxuICAgICAgdGltZVN0YW1wLFxyXG4gICAgICB0eXBlXHJcbiAgICB9XHJcbiAgICBfdGltZW91dCAmJiBjbGVhclRpbWVvdXQoX3RpbWVvdXQpXHJcbiAgICBfdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnPj4+IENTUDonLCBfY3NwKVxyXG4gICAgICAvLyB3aW5kb3cud3NfX3NlbmQoJ2NzcF9lcnJvcicsIHtcclxuICAgICAgLy8gICBuYW1lc3BhY2UsXHJcbiAgICAgIC8vICAgaG9zdCxcclxuICAgICAgLy8gICBwYXRoLFxyXG4gICAgICAvLyAgIF9jc3AsXHJcbiAgICAgIC8vIH0pO1xyXG4gICAgICBfY3NwID0ge31cclxuICAgIH0sIDQwMDApXHJcbiAgfVxyXG5cclxuICBpZiAod2luZG93Lm1pdG0uY2xpZW50LmNzcCkge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2VjdXJpdHlwb2xpY3l2aW9sYXRpb24nLCBjc3BFcnJvcilcclxuICB9XHJcbn1cclxuLy8gZGlzcG9zaXRpb246IFwicmVwb3J0XCJcclxuLy8gZG9jdW1lbnRVUkk6IFwiaHR0cHM6Ly93aGF0L2h0bWwvY29udGFpbi9jc3BcIlxyXG4vLyB2aW9sYXRlZERpcmVjdGl2ZTogXCJpbWctc3JjXCJcclxuXHJcbi8vIGJsb2NrZWRVUkk6IFwiaHR0cHM6Ly93aGF0L3VybC9nZXR0aW5nL2Jsb2NrZWRcIlxyXG4vLyBlZmZlY3RpdmVEaXJlY3RpdmU6IFwiaW1nLXNyY1wiXHJcbi8vIG9yaWdpbmFsUG9saWN5OiBcInNjcmlwdC1zcmMgbnVsbDsgZnJhbWUtc3JjIG51bGw7IHN0eWxlLXNyYyBudWxsOyBzdHlsZS1zcmMtZWxlbSBudWxsOyBpbWctc3JjIG51bGw7XCJcclxuLy8gdGltZVN0YW1wOiAxOTMzLjgyMDAwMDAwNTY1MzFcclxuLy8gdHlwZTogXCJzZWN1cml0eXBvbGljeXZpb2xhdGlvblwiXHJcbiIsICJjb25zdCBfYyA9ICdjb2xvcjogI2JhZGE1NSdcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICh3aW5kb3cuX3dzX2Nvbm5lY3Q9PT11bmRlZmluZWQpIHtcclxuICAgIHdpbmRvdy5fd3NfY29ubmVjdCA9IHt9XHJcbiAgfVxyXG5cclxuICB3aW5kb3cubWl0bS5mbi5ob3RLZXlzID0gb2JqID0+IHtcclxuICAgIHdpbmRvdy5taXRtLm1hY3Jva2V5cyA9IHtcclxuICAgICAgLi4ud2luZG93Lm1pdG0ubWFjcm9rZXlzLFxyXG4gICAgICAuLi5vYmpcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgd2luZG93Lm1pdG0uZm4uYXV0b2NsaWNrID0gKCkgPT4ge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tYXV0b2ZpbGwnKS5jbGljaygpXHJcbiAgICB9LCAxMDAwKVxyXG4gIH1cclxuICBcclxuICB3aW5kb3cubWl0bS5mbi5nZXRDb29raWUgPSBuYW1lID0+IHtcclxuICAgIGNvbnN0IHZhbHVlID0gYDsgJHtkb2N1bWVudC5jb29raWV9YDtcclxuICAgIGNvbnN0IHBhcnRzID0gdmFsdWUuc3BsaXQoYDsgJHtuYW1lfT1gKTtcclxuICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHJldHVybiBwYXJ0cy5wb3AoKS5zcGxpdCgnOycpLnNoaWZ0KCk7XHJcbiAgfVxyXG5cclxuICB3aW5kb3cubWl0bS5fbWFjcm9zXyA9ICgpID0+IHtcclxuICAgIHdpbmRvdy5taXRtLm1hY3Jva2V5cyA9IHt9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpbml0KF9kKSB7XHJcbiAgICBsZXQgbXNnID0gJ01hY3JvczogZXhlY3V0ZWQgYWZ0ZXIgd3Mgb3BlbidcclxuICAgIGNvbnNvbGUubG9nKGAlYyR7bXNnfWAsIF9jLCBfZClcclxuICB9XHJcbiAgd2luZG93Ll93c19jb25uZWN0Lm1hY3Jvc09uTW91bnQgPSBpbml0XHJcbn1cclxuIiwgIi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xyXG5jb25zdCBfd3NfcG9zdG1lc3NhZ2UgPSByZXF1aXJlKCcuL193c19wb3N0bWVzc2FnZScpXHJcbmNvbnN0IF93c19pbml0U29ja2V0ID0gcmVxdWlyZSgnLi9fd3NfaW5pdC1zb2NrZXQnKVxyXG5jb25zdCBfd3Nfc2NyZWVuc2hvdCA9IHJlcXVpcmUoJy4vX3dzX3NjcmVlbnNob3QnKVxyXG5jb25zdCBfd3NfbG9jYXRpb24gPSByZXF1aXJlKCcuL193c19sb2NhdGlvbicpXHJcbmNvbnN0IF93c19vYnNlcnZlciA9IHJlcXVpcmUoJy4vX3dzX29ic2VydmVyJylcclxuY29uc3QgX3dzX2dlbmVyYWwgPSByZXF1aXJlKCcuL193c19nZW5lcmFsJylcclxuY29uc3QgX3dzX2NzcEVyciA9IHJlcXVpcmUoJy4vX3dzX2NzcC1lcnInKVxyXG5jb25zdCBfd3NfbWFjcm9zID0gcmVxdWlyZSgnLi9fd3NfbWFjcm9zJylcclxuY29uc3QgX2MgPSAnY29sb3I6IHJlZCdcclxuXHJcbl93c19wb3N0bWVzc2FnZSgpXHJcbl93c19pbml0U29ja2V0KClcclxuX3dzX3NjcmVlbnNob3QoKVxyXG5fd3NfbG9jYXRpb24oKVxyXG5fd3Nfb2JzZXJ2ZXIoKVxyXG5fd3NfZ2VuZXJhbCgpXHJcbl93c19jc3BFcnIoKVxyXG5fd3NfbWFjcm9zKClcclxuY29uc29sZS5sb2coJyVjV3M6IHdzLWNsaWVudCBsb2FkZWQuLi4nLCBfYykiXSwKICAibWFwcGluZ3MiOiAicTJCQUFBLDJGQUNBLE9BQU8sUUFBVSxJQUFNLENBQ3JCLHdCQUF5QixNQUFPLENBQzlCLEdBQUksT0FBTyxLQUFLLE9BQU8sWUFBYSxDQUNsQyxRQUFRLElBQUksb0JBQW9CLE1BQU0scUJBQXFCLFNBQVMsT0FBUSxNQUFNLE9BR3RGLE9BQU8saUJBQWlCLFVBQVcsZUFBZ0IsV0NQckQsb0ZBQU0sS0FBSyxpQkFFWCxPQUFPLFFBQVUsSUFBTSxDQUNyQixHQUFJLFdBQ0osTUFBTyxDQUVMLE1BQU8sQ0FBRSxNQUFRLENBQ2YsUUFBUSxJQUFJLE9BR2QsTUFBTyxDQUFFLE1BQVEsQ0FDZixRQUFRLElBQUksT0FHZCxNQUFPLENBQUUsTUFBUSxDQUNmLEtBQU0sVUFBVyx3RkFDakIsVUFBWSxPQUFPLEtBQUssS0FBSyxJQUFLLFFBQVMsVUFDM0MsVUFBVSxRQUdaLE9BQVEsQ0FBRSxNQUFRLENBQ2hCLEtBQU0sQ0FBRSxFQUFHLEtBQVEsS0FDbkIsU0FBUyxpQkFBaUIsR0FBRyxRQUMzQixNQUFTLEtBQUssTUFBTSxRQUFVLE1BSWxDLFVBQVcsQ0FBRSxRQUFVLENBQ3JCLEdBQUksQ0FBQyxTQUFTLE9BQU8sTUFBTSxvQkFBcUIsQ0FDOUMsUUFBUSxJQUFJLHNCQUF1QixLQUNuQyxPQUFPLEtBQUssT0FB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
